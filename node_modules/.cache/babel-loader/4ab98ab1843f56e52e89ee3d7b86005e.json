{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Icon } from 'leaflet';\nimport { LMap, LTileLayer, LMarker } from 'vue2-leaflet';\nexport default {\n  name: 'MapComponent',\n  data: function data() {\n    return {\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      zoom: 15,\n      center: [47.41322, -1.219482],\n      bounds: null,\n      marker: null\n    };\n  },\n  methods: {\n    zoomUpdated: function zoomUpdated(zoom) {\n      this.zoom = zoom;\n    },\n    centerUpdated: function centerUpdated(center) {\n      this.center = center;\n    },\n    boundsUpdated: function boundsUpdated(bounds) {\n      this.bounds = bounds;\n    },\n    addMarker: function addMarker(event) {\n      console.log(event);\n      this.marker = event.latlng;\n      this.$emit('newLocation', event.latlng);\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    delete Icon.Default.prototype._getIconUrl;\n    Icon.Default.mergeOptions({\n      iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n      iconUrl: require('leaflet/dist/images/marker-icon.png'),\n      shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n    });\n    navigator.geolocation.getCurrentPosition(function (pos) {\n      _this.addMarker({\n        latlng: {\n          lat: pos.coords.latitude,\n          lng: pos.coords.longitude\n        }\n      });\n\n      _this.center = [pos.coords.latitude, pos.coords.longitude];\n    }, null, {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    });\n  },\n  components: {\n    LMap: LMap,\n    LTileLayer: LTileLayer,\n    LMarker: LMarker\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;AAkBA;AACA;AAEA;AACAA,sBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,+DADA;AAEAC,cAFA;AAGAC,mCAHA;AAIAC,kBAJA;AAKAC;AALA;AAOA,GAVA;AAWAC;AACAC,eADA,uBACAL,IADA,EACA;AACA;AACA,KAHA;AAIAM,iBAJA,yBAIAL,MAJA,EAIA;AACA;AACA,KANA;AAOAM,iBAPA,yBAOAL,MAPA,EAOA;AACA;AACA,KATA;AAUAM,aAVA,qBAUAC,KAVA,EAUA;AACAC;AACA;AACA;AACA;AAdA,GAXA;AA2BAC,SA3BA,qBA2BA;AAAA;;AACA;AACAC;AACAC,sEADA;AAEAC,6DAFA;AAGAC;AAHA;AAKAC,6CACA;AACA;AACAC;AAAAC;AAAAC;AAAA;AADA;;AAGA;AACA,KANA,EAOA,IAPA,EAQA;AACAC,8BADA;AAEAC,mBAFA;AAGAC;AAHA,KARA;AAcA,GAhDA;AAiDAC;AACAC,cADA;AAEAC,0BAFA;AAGAC;AAHA;AAjDA","names":["name","data","url","zoom","center","bounds","marker","methods","zoomUpdated","centerUpdated","boundsUpdated","addMarker","event","console","mounted","Icon","iconRetinaUrl","iconUrl","shadowUrl","navigator","latlng","lat","lng","enableHighAccuracy","timeout","maximumAge","components","LMap","LTileLayer","LMarker"],"sourceRoot":"src/components","sources":["AppMap.vue"],"sourcesContent":["<template>\r\n  <div style=\"height: 100%; width: 100%\">\r\n    <l-map\r\n      class=\"ma-auto col-12\"\r\n      style=\"min-height: 700px; height: 100%\"\r\n      :zoom=\"zoom\"\r\n      :center=\"center\"\r\n      @update:zoom=\"zoomUpdated\"\r\n      @update:center=\"centerUpdated\"\r\n      @update:bounds=\"boundsUpdated\"\r\n      @click=\"addMarker\"\r\n    >\r\n      <l-tile-layer :url=\"url\"></l-tile-layer>\r\n      <l-marker v-if=\"marker\" :lat-lng=\"marker\" />\r\n    </l-map>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Icon } from 'leaflet';\r\nimport { LMap, LTileLayer, LMarker } from 'vue2-leaflet';\r\n\r\nexport default {\r\n  name: 'MapComponent',\r\n  data() {\r\n    return {\r\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n      zoom: 15,\r\n      center: [47.41322, -1.219482],\r\n      bounds: null,\r\n      marker: null,\r\n    };\r\n  },\r\n  methods: {\r\n    zoomUpdated(zoom) {\r\n      this.zoom = zoom;\r\n    },\r\n    centerUpdated(center) {\r\n      this.center = center;\r\n    },\r\n    boundsUpdated(bounds) {\r\n      this.bounds = bounds;\r\n    },\r\n    addMarker(event) {\r\n      console.log(event);\r\n      this.marker = event.latlng;\r\n      this.$emit('newLocation', event.latlng);\r\n    },\r\n  },\r\n  mounted() {\r\n    delete Icon.Default.prototype._getIconUrl;\r\n    Icon.Default.mergeOptions({\r\n      iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n      iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n      shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n    });\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        this.addMarker({\r\n          latlng: { lat: pos.coords.latitude, lng: pos.coords.longitude },\r\n        });\r\n        this.center = [pos.coords.latitude, pos.coords.longitude];\r\n      },\r\n      null,\r\n      {\r\n        enableHighAccuracy: true,\r\n        timeout: 5000,\r\n        maximumAge: 0,\r\n      }\r\n    );\r\n  },\r\n  components: {\r\n    LMap,\r\n    LTileLayer,\r\n    LMarker,\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#mapid {\r\n  height: 180px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}