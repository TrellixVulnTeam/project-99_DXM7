{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { realtimeDb } from '@/firebase';\nimport navbar from '@/components/Navbar.vue';\nexport default {\n  name: \"realtime\",\n  components: {\n    navbar\n  },\n\n  data() {\n    return {\n      userName: \"\",\n      name: \"\",\n      showMessage: \"\",\n      messages: []\n    };\n  },\n\n  methods: {\n    updateUsername() {\n      this.name = this.userName;\n      console.log(this.userName);\n      this.userName = \"\";\n    },\n\n    sendMessage() {\n      const message = {\n        text: this.showMessage,\n        username: this.name\n      };\n      realtimeDb.ref(\"messages\").push(message);\n      this.showMessage = \"\";\n    }\n\n  },\n\n  mounted() {\n    let viewMessage = this;\n    const itemsRef = realtimeDb.ref(\"messages\");\n    itemsRef.on(\"value\", snapshot => {\n      let data = snapshot.val();\n      let messages = [];\n      Object.keys(data).forEach(key => {\n        messages.push({\n          id: key,\n          username: data[key].username,\n          text: data[key].text\n        });\n      });\n      viewMessage.messages = messages;\n    });\n  }\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACAA,kBADA;AAEAC;AACAC;AADA,GAFA;;AAKAC;AACA;AACAC,kBADA;AAEAJ,cAFA;AAGAK,qBAHA;AAIAC;AAJA;AAMA,GAZA;;AAaAC;AACAC;AACA;AACAC;AACA;AACA,KALA;;AAMAC;AACA;AACAC,8BADA;AAEAC;AAFA;AAIAC;AACA;AACA;;AAbA,GAbA;;AA4BAC;AACA;AACA;AACAC;AACA;AACA;AACAC;AACAV;AACAW,iBADA;AAEAL,sCAFA;AAGAD;AAHA;AAKA,OANA;AAOAO;AACA,KAXA;AAYA;;AA3CA","names":["name","components","navbar","data","userName","showMessage","messages","methods","updateUsername","console","sendMessage","text","username","realtimeDb","mounted","itemsRef","Object","id","viewMessage"],"sourceRoot":"src/views","sources":["realtime.vue"],"sourcesContent":["<template>\r\n  <div>\r\n  <navbar />\r\n    <!-- Login section -->\r\n  <div id=\"app1\">\r\n    <!-- Login section -->\r\n   <div class=\"login mt-5\" v-if=\"!name\">\r\n    <h3 class=\"mt-5\">Join our Chat</h3>\r\n    <label for=\"username\">userName</label>\r\n    <br />\r\n    <input class=\"mb-3\" type=\"text\" v-model=\"userName\" />\r\n    <br />\r\n    <button class=\"btn btn-primary\" @click=\"updateUsername\">Join Chat</button>\r\n   </div>\r\n   \r\n  <div class=\"message-body mt-3\" v-else>\r\n      <h3>Chat</h3>\r\n      <h5>Welcome {{ name }}!</h5>\r\n     ...........\r\n    </div>\r\n    <div class=\"login mt-5\" v-if=\"!name\">\r\n     ..................\r\n    </div>\r\n    <div class=\"message-body mt-3\" v-else>\r\n      <h3>Chat</h3>\r\n      <h5>Welcome {{ name }}!</h5>\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div\r\n            class=\"border pl-2 pt-1 ml-2 message-text mb-2\"\r\n            v-for=\"message in messages\"\r\n            :key=\"message\"\r\n          >\r\n            <span class=\"mg-text\">{{ message.username }}</span>\r\n            <p class=\"message pt-1\">{{ message.text }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <input v-model=\"showMessage\" type=\"text\" class=\"mt-3 mr-2 pl-2 pr-2\" />\r\n      <button class=\"btn btn-primary\" @click=\"sendMessage\">Send</button>\r\n    </div>\r\n  </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {realtimeDb} from '@/firebase'\r\nimport navbar from '@/components/Navbar.vue'\r\nexport default {\r\n  name: \"realtime\",\r\n  components: {\r\n        navbar\r\n    },\r\n  data() {\r\n    return {\r\n      userName: \"\",\r\n      name: \"\",\r\n      showMessage: \"\",\r\n      messages: []\r\n    };\r\n  },\r\n  methods: {\r\n    updateUsername() {\r\n      this.name = this.userName;\r\n      console.log(this.userName);\r\n      this.userName = \"\";\r\n    },\r\n    sendMessage() {\r\n      const message = {\r\n        text: this.showMessage,\r\n        username: this.name\r\n      };  \r\n      realtimeDb.ref(\"messages\").push(message);\r\n      this.showMessage = \"\";\r\n    }\r\n  },\r\n  mounted() {\r\n    let viewMessage = this;\r\n    const itemsRef = realtimeDb.ref(\"messages\");\r\n    itemsRef.on(\"value\", snapshot => {\r\n      let data = snapshot.val();\r\n      let messages = [];\r\n      Object.keys(data).forEach(key => {\r\n        messages.push({\r\n          id: key,\r\n          username: data[key].username,\r\n          text: data[key].text\r\n        });\r\n      });\r\n      viewMessage.messages = messages;\r\n    });\r\n  }\r\n  \r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic|Material+Icons\");\r\n#app1 {\r\n  font-family: \"Roboto\", sans-serif;\r\n  font-size: 18px;\r\n}\r\n.login {\r\n  background: #fff;\r\n  width: 40%;\r\n  height: 50vh;\r\n  margin: auto;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n}\r\nh3 {\r\n  font-size: 30px;\r\n  text-align: center;\r\n}\r\ninput {\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  border: 1px solid rgb(156, 156, 156);\r\n  padding-left: 2px;\r\n  padding-right: 2px;\r\n}\r\n.message-body {\r\n  width: 40%;\r\n  height: 80vh;\r\n  margin: auto;\r\n}\r\n.message-text {\r\n  min-width: 10%;\r\n  border-radius: 4px;\r\n}\r\n.message {\r\n  font-size: 14px;\r\n}\r\n.mg-text {\r\n  color: rgb(0, 195, 255);\r\n  font-weight: bolder;\r\n}\r\n.message-body input {\r\n  width: 80%;\r\n  border-radius: 4px;\r\n  border: 1px solid rgb(156, 156, 156);\r\n  height: 6vh;\r\n  padding-left: 2px;\r\n  padding-right: 2px;\r\n}\r\n.card {\r\n  width: 100%;\r\n  height: 75vh;\r\n  margin: auto;\r\n}\r\n.card-body {\r\n  min-height: 50vh;\r\n  overflow-x: scroll;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}