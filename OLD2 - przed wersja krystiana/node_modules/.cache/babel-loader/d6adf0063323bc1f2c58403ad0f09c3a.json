{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.number.constructor.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport Vue from '../../utils/vue';\nimport { Portal, Wormhole } from 'portal-vue';\nimport BvEvent from '../../utils/bv-event.class';\nimport BVTransition from '../../utils/bv-transition';\nimport { getComponentConfig } from '../../utils/config';\nimport { requestAF, eventOn, eventOff } from '../../utils/dom';\nimport idMixin from '../../mixins/id';\nimport listenOnRootMixin from '../../mixins/listen-on-root';\nimport normalizeSlotMixin from '../../mixins/normalize-slot';\nimport { BToaster } from './toaster';\nimport { BButtonClose } from '../button/button-close';\nimport { BLink } from '../link/link'; // --- Constants ---\n\nvar NAME = 'BToast';\nvar MIN_DURATION = 1000;\nvar EVENT_OPTIONS = {\n  passive: true,\n  capture: false // --- Props ---\n\n};\nexport var props = {\n  id: {\n    // Even though the ID prop is provided by idMixin, we\n    // add it here for $bvToast props filtering\n    type: String,\n    default: null\n  },\n  title: {\n    type: String,\n    default: null\n  },\n  toaster: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'toaster');\n    }\n  },\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  variant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'variant');\n    }\n  },\n  isStatus: {\n    // Switches role to 'status' and aria-live to 'polite'\n    type: Boolean,\n    default: false\n  },\n  appendToast: {\n    type: Boolean,\n    default: false\n  },\n  noAutoHide: {\n    type: Boolean,\n    default: false\n  },\n  autoHideDelay: {\n    type: [Number, String],\n    default: function _default() {\n      return getComponentConfig(NAME, 'autoHideDelay');\n    }\n  },\n  noCloseButton: {\n    type: Boolean,\n    default: false\n  },\n  noFade: {\n    type: Boolean,\n    default: false\n  },\n  noHoverPause: {\n    type: Boolean,\n    default: false\n  },\n  solid: {\n    type: Boolean,\n    default: false\n  },\n  toastClass: {\n    type: [String, Object, Array],\n    default: function _default() {\n      return getComponentConfig(NAME, 'toastClass');\n    }\n  },\n  headerClass: {\n    type: [String, Object, Array],\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerClass');\n    }\n  },\n  bodyClass: {\n    type: [String, Object, Array],\n    default: function _default() {\n      return getComponentConfig(NAME, 'bodyClass');\n    }\n  },\n  href: {\n    type: String,\n    default: null\n  },\n  to: {\n    type: [String, Object],\n    default: null\n  },\n  static: {\n    // Render the toast in place, rather than in a portal-target\n    type: Boolean,\n    default: false\n  } // @vue/component\n\n};\nexport var BToast = /*#__PURE__*/Vue.extend({\n  name: NAME,\n  mixins: [idMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  model: {\n    prop: 'visible',\n    event: 'change'\n  },\n  props: props,\n  data: function data() {\n    return {\n      isMounted: false,\n      doRender: false,\n      localShow: false,\n      isTransitioning: false,\n      isHiding: false,\n      order: 0,\n      timer: null,\n      dismissStarted: 0,\n      resumeDismiss: 0\n    };\n  },\n  computed: {\n    bToastClasses: function bToastClasses() {\n      return _defineProperty({\n        'b-toast-solid': this.solid,\n        'b-toast-append': this.appendToast,\n        'b-toast-prepend': !this.appendToast\n      }, \"b-toast-\".concat(this.variant), this.variant);\n    },\n    slotScope: function slotScope() {\n      return {\n        hide: this.hide\n      };\n    },\n    computedDuration: function computedDuration() {\n      // Minimum supported duration is 1 second\n      return Math.max(parseInt(this.autoHideDelay, 10) || 0, MIN_DURATION);\n    },\n    computedToaster: function computedToaster() {\n      return String(this.toaster);\n    },\n    transitionHandlers: function transitionHandlers() {\n      return {\n        beforeEnter: this.onBeforeEnter,\n        afterEnter: this.onAfterEnter,\n        beforeLeave: this.onBeforeLeave,\n        afterLeave: this.onAfterLeave\n      };\n    }\n  },\n  watch: {\n    visible: function visible(newVal) {\n      newVal ? this.show() : this.hide();\n    },\n    localShow: function localShow(newVal) {\n      if (newVal !== this.visible) {\n        this.$emit('change', newVal);\n      }\n    },\n    toaster: function toaster(newVal)\n    /* istanbul ignore next */\n    {\n      var _this = this; // If toaster target changed, make sure toaster exists\n\n\n      this.$nextTick(function () {\n        return _this.ensureToaster;\n      });\n    },\n    static: function _static(newVal)\n    /* istanbul ignore next */\n    {\n      // If static changes to true, and the toast is showing,\n      // ensure the toaster target exists\n      if (newVal && this.localShow) {\n        this.ensureToaster();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.isMounted = true;\n    this.$nextTick(function () {\n      if (_this2.visible) {\n        requestAF(function () {\n          _this2.show();\n        });\n      }\n    }); // Listen for global $root show events\n\n    this.listenOnRoot('bv::show::toast', function (id) {\n      if (id === _this2.safeId()) {\n        _this2.show();\n      }\n    }); // Listen for global $root hide events\n\n    this.listenOnRoot('bv::hide::toast', function (id) {\n      if (!id || id === _this2.safeId()) {\n        _this2.hide();\n      }\n    }); // Make sure we hide when toaster is destroyed\n\n    /* istanbul ignore next: difficult to test */\n\n    this.listenOnRoot('bv::toaster::destroyed', function (toaster) {\n      if (toaster === _this2.computedToaster) {\n        _this2.hide();\n      }\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearDismissTimer();\n  },\n  methods: {\n    show: function show() {\n      var _this3 = this;\n\n      if (!this.localShow) {\n        this.ensureToaster();\n        var showEvt = this.buildEvent('show');\n        this.emitEvent(showEvt);\n        this.dismissStarted = this.resumeDismiss = 0;\n        this.order = Date.now() * (this.appendToast ? 1 : -1);\n        this.isHiding = false;\n        this.doRender = true;\n        this.$nextTick(function () {\n          // We show the toast after we have rendered the portal and b-toast wrapper\n          // so that screen readers will properly announce the toast\n          requestAF(function () {\n            _this3.localShow = true;\n          });\n        });\n      }\n    },\n    hide: function hide() {\n      var _this4 = this;\n\n      if (this.localShow) {\n        var hideEvt = this.buildEvent('hide');\n        this.emitEvent(hideEvt);\n        this.setHoverHandler(false);\n        this.dismissStarted = this.resumeDismiss = 0;\n        this.clearDismissTimer();\n        this.isHiding = true;\n        requestAF(function () {\n          _this4.localShow = false;\n        });\n      }\n    },\n    buildEvent: function buildEvent(type) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvEvent(type, _objectSpread({\n        cancelable: false,\n        target: this.$el || null,\n        relatedTarget: null\n      }, opts, {\n        vueTarget: this,\n        componentId: this.safeId()\n      }));\n    },\n    emitEvent: function emitEvent(bvEvt) {\n      var type = bvEvt.type;\n      this.$root.$emit(\"bv::toast:\".concat(type), bvEvt);\n      this.$emit(type, bvEvt);\n    },\n    ensureToaster: function ensureToaster() {\n      if (this.static) {\n        return;\n      }\n\n      if (!Wormhole.hasTarget(this.computedToaster)) {\n        var div = document.createElement('div');\n        document.body.appendChild(div);\n        var toaster = new BToaster({\n          parent: this.$root,\n          propsData: {\n            name: this.computedToaster\n          }\n        });\n        toaster.$mount(div);\n      }\n    },\n    startDismissTimer: function startDismissTimer() {\n      this.clearDismissTimer();\n\n      if (!this.noAutoHide) {\n        this.timer = setTimeout(this.hide, this.resumeDismiss || this.computedDuration);\n        this.dismissStarted = Date.now();\n        this.resumeDismiss = 0;\n      }\n    },\n    clearDismissTimer: function clearDismissTimer() {\n      clearTimeout(this.timer);\n      this.timer = null;\n    },\n    setHoverHandler: function setHoverHandler(on) {\n      var method = on ? eventOn : eventOff;\n      var el = this.$refs['b-toast'];\n      method(el, 'mouseenter', this.onPause, EVENT_OPTIONS);\n      method(el, 'mouseleave', this.onUnPause, EVENT_OPTIONS);\n    },\n    onPause: function onPause(evt) {\n      // Determine time remaining, and then pause timer\n      if (this.noAutoHide || this.noHoverPause || !this.timer || this.resumeDismiss) {\n        return;\n      }\n\n      var passed = Date.now() - this.dismissStarted;\n\n      if (passed > 0) {\n        this.clearDismissTimer();\n        this.resumeDismiss = Math.max(this.computedDuration - passed, MIN_DURATION);\n      }\n    },\n    onUnPause: function onUnPause(evt) {\n      // Restart timer with max of time remaining or 1 second\n      if (this.noAutoHide || this.noHoverPause || !this.resumeDismiss) {\n        this.resumeDismiss = this.dismissStarted = 0;\n        return;\n      }\n\n      this.startDismissTimer();\n    },\n    onLinkClick: function onLinkClick() {\n      var _this5 = this; // We delay the close to allow time for the\n      // browser to process the link click\n\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this5.hide();\n        });\n      });\n    },\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n    },\n    onAfterEnter: function onAfterEnter() {\n      this.isTransitioning = false;\n      var hiddenEvt = this.buildEvent('shown');\n      this.emitEvent(hiddenEvt);\n      this.startDismissTimer();\n      this.setHoverHandler(true);\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.isTransitioning = false;\n      this.order = 0;\n      this.resumeDismiss = this.dismissStarted = 0;\n      var hiddenEvt = this.buildEvent('hidden');\n      this.emitEvent(hiddenEvt);\n      this.doRender = false;\n    },\n    makeToast: function makeToast(h) {\n      var _this6 = this; // Render helper for generating the toast\n      // Assemble the header content\n\n\n      var $headerContent = [];\n      var $title = this.normalizeSlot('toast-title', this.slotScope);\n\n      if ($title) {\n        $headerContent.push($title);\n      } else if (this.title) {\n        $headerContent.push(h('strong', {\n          staticClass: 'mr-2'\n        }, this.title));\n      }\n\n      if (!this.noCloseButton) {\n        $headerContent.push(h(BButtonClose, {\n          staticClass: 'ml-auto mb-1',\n          on: {\n            click: function click(evt) {\n              _this6.hide();\n            }\n          }\n        }));\n      } // Assemble the header (if needed)\n\n\n      var $header = h();\n\n      if ($headerContent.length > 0) {\n        $header = h('header', {\n          staticClass: 'toast-header',\n          class: this.headerClass\n        }, $headerContent);\n      } // Toast body\n\n\n      var isLink = this.href || this.to;\n      var $body = h(isLink ? BLink : 'div', {\n        staticClass: 'toast-body',\n        class: this.bodyClass,\n        props: isLink ? {\n          to: this.to,\n          href: this.href\n        } : {},\n        on: isLink ? {\n          click: this.onLinkClick\n        } : {}\n      }, [this.normalizeSlot('default', this.slotScope) || h()]); // Build the toast\n\n      var $toast = h('div', {\n        key: \"toast-\".concat(this._uid),\n        ref: 'toast',\n        staticClass: 'toast',\n        class: this.toastClass,\n        attrs: _objectSpread({}, this.$attrs, {\n          tabindex: '0',\n          id: this.safeId()\n        })\n      }, [$header, $body]);\n      return $toast;\n    }\n  },\n  render: function render(h) {\n    if (!this.doRender || !this.isMounted) {\n      return h();\n    }\n\n    var name = \"b-toast-\".concat(this._uid);\n    return h(Portal, {\n      props: {\n        name: name,\n        to: this.computedToaster,\n        order: this.order,\n        slim: true,\n        disabled: this.static\n      }\n    }, [h('div', {\n      key: name,\n      ref: 'b-toast',\n      staticClass: 'b-toast',\n      class: this.bToastClasses,\n      attrs: {\n        id: this.safeId('_toast_outer'),\n        role: this.isHiding ? null : this.isStatus ? 'status' : 'alert',\n        'aria-live': this.isHiding ? null : this.isStatus ? 'polite' : 'assertive',\n        'aria-atomic': this.isHiding ? null : 'true'\n      }\n    }, [h(BVTransition, {\n      props: {\n        noFade: this.noFade\n      },\n      on: this.transitionHandlers\n    }, [this.localShow ? this.makeToast(h) : h()])])]);\n  }\n});\nexport default BToast;","map":{"version":3,"sources":["D:/UEK/project-99/node_modules/bootstrap-vue/esm/components/toast/toast.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","Vue","Portal","Wormhole","BvEvent","BVTransition","getComponentConfig","requestAF","eventOn","eventOff","idMixin","listenOnRootMixin","normalizeSlotMixin","BToaster","BButtonClose","BLink","NAME","MIN_DURATION","EVENT_OPTIONS","passive","capture","props","id","type","String","default","title","toaster","_default","visible","Boolean","variant","isStatus","appendToast","noAutoHide","autoHideDelay","Number","noCloseButton","noFade","noHoverPause","solid","toastClass","Array","headerClass","bodyClass","href","to","static","BToast","extend","name","mixins","inheritAttrs","model","prop","event","data","isMounted","doRender","localShow","isTransitioning","isHiding","order","timer","dismissStarted","resumeDismiss","computed","bToastClasses","concat","slotScope","hide","computedDuration","Math","max","parseInt","computedToaster","transitionHandlers","beforeEnter","onBeforeEnter","afterEnter","onAfterEnter","beforeLeave","onBeforeLeave","afterLeave","onAfterLeave","watch","newVal","show","$emit","_this","$nextTick","ensureToaster","_static","mounted","_this2","listenOnRoot","safeId","beforeDestroy","clearDismissTimer","methods","_this3","showEvt","buildEvent","emitEvent","Date","now","_this4","hideEvt","setHoverHandler","opts","undefined","cancelable","$el","relatedTarget","vueTarget","componentId","bvEvt","$root","hasTarget","div","document","createElement","body","appendChild","parent","propsData","$mount","startDismissTimer","setTimeout","clearTimeout","on","method","el","$refs","onPause","onUnPause","evt","passed","onLinkClick","_this5","hiddenEvt","makeToast","h","_this6","$headerContent","$title","normalizeSlot","staticClass","click","$header","class","isLink","$body","$toast","_uid","ref","attrs","$attrs","tabindex","render","slim","disabled","role"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vue from '../../utils/vue';\nimport { Portal, Wormhole } from 'portal-vue';\nimport BvEvent from '../../utils/bv-event.class';\nimport BVTransition from '../../utils/bv-transition';\nimport { getComponentConfig } from '../../utils/config';\nimport { requestAF, eventOn, eventOff } from '../../utils/dom';\nimport idMixin from '../../mixins/id';\nimport listenOnRootMixin from '../../mixins/listen-on-root';\nimport normalizeSlotMixin from '../../mixins/normalize-slot';\nimport { BToaster } from './toaster';\nimport { BButtonClose } from '../button/button-close';\nimport { BLink } from '../link/link'; // --- Constants ---\n\nvar NAME = 'BToast';\nvar MIN_DURATION = 1000;\nvar EVENT_OPTIONS = {\n  passive: true,\n  capture: false // --- Props ---\n\n};\nexport var props = {\n  id: {\n    // Even though the ID prop is provided by idMixin, we\n    // add it here for $bvToast props filtering\n    type: String,\n    default: null\n  },\n  title: {\n    type: String,\n    default: null\n  },\n  toaster: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'toaster');\n    }\n  },\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  variant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'variant');\n    }\n  },\n  isStatus: {\n    // Switches role to 'status' and aria-live to 'polite'\n    type: Boolean,\n    default: false\n  },\n  appendToast: {\n    type: Boolean,\n    default: false\n  },\n  noAutoHide: {\n    type: Boolean,\n    default: false\n  },\n  autoHideDelay: {\n    type: [Number, String],\n    default: function _default() {\n      return getComponentConfig(NAME, 'autoHideDelay');\n    }\n  },\n  noCloseButton: {\n    type: Boolean,\n    default: false\n  },\n  noFade: {\n    type: Boolean,\n    default: false\n  },\n  noHoverPause: {\n    type: Boolean,\n    default: false\n  },\n  solid: {\n    type: Boolean,\n    default: false\n  },\n  toastClass: {\n    type: [String, Object, Array],\n    default: function _default() {\n      return getComponentConfig(NAME, 'toastClass');\n    }\n  },\n  headerClass: {\n    type: [String, Object, Array],\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerClass');\n    }\n  },\n  bodyClass: {\n    type: [String, Object, Array],\n    default: function _default() {\n      return getComponentConfig(NAME, 'bodyClass');\n    }\n  },\n  href: {\n    type: String,\n    default: null\n  },\n  to: {\n    type: [String, Object],\n    default: null\n  },\n  static: {\n    // Render the toast in place, rather than in a portal-target\n    type: Boolean,\n    default: false\n  } // @vue/component\n\n};\nexport var BToast =\n/*#__PURE__*/\nVue.extend({\n  name: NAME,\n  mixins: [idMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  model: {\n    prop: 'visible',\n    event: 'change'\n  },\n  props: props,\n  data: function data() {\n    return {\n      isMounted: false,\n      doRender: false,\n      localShow: false,\n      isTransitioning: false,\n      isHiding: false,\n      order: 0,\n      timer: null,\n      dismissStarted: 0,\n      resumeDismiss: 0\n    };\n  },\n  computed: {\n    bToastClasses: function bToastClasses() {\n      return _defineProperty({\n        'b-toast-solid': this.solid,\n        'b-toast-append': this.appendToast,\n        'b-toast-prepend': !this.appendToast\n      }, \"b-toast-\".concat(this.variant), this.variant);\n    },\n    slotScope: function slotScope() {\n      return {\n        hide: this.hide\n      };\n    },\n    computedDuration: function computedDuration() {\n      // Minimum supported duration is 1 second\n      return Math.max(parseInt(this.autoHideDelay, 10) || 0, MIN_DURATION);\n    },\n    computedToaster: function computedToaster() {\n      return String(this.toaster);\n    },\n    transitionHandlers: function transitionHandlers() {\n      return {\n        beforeEnter: this.onBeforeEnter,\n        afterEnter: this.onAfterEnter,\n        beforeLeave: this.onBeforeLeave,\n        afterLeave: this.onAfterLeave\n      };\n    }\n  },\n  watch: {\n    visible: function visible(newVal) {\n      newVal ? this.show() : this.hide();\n    },\n    localShow: function localShow(newVal) {\n      if (newVal !== this.visible) {\n        this.$emit('change', newVal);\n      }\n    },\n    toaster: function toaster(newVal)\n    /* istanbul ignore next */\n    {\n      var _this = this;\n\n      // If toaster target changed, make sure toaster exists\n      this.$nextTick(function () {\n        return _this.ensureToaster;\n      });\n    },\n    static: function _static(newVal)\n    /* istanbul ignore next */\n    {\n      // If static changes to true, and the toast is showing,\n      // ensure the toaster target exists\n      if (newVal && this.localShow) {\n        this.ensureToaster();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.isMounted = true;\n    this.$nextTick(function () {\n      if (_this2.visible) {\n        requestAF(function () {\n          _this2.show();\n        });\n      }\n    }); // Listen for global $root show events\n\n    this.listenOnRoot('bv::show::toast', function (id) {\n      if (id === _this2.safeId()) {\n        _this2.show();\n      }\n    }); // Listen for global $root hide events\n\n    this.listenOnRoot('bv::hide::toast', function (id) {\n      if (!id || id === _this2.safeId()) {\n        _this2.hide();\n      }\n    }); // Make sure we hide when toaster is destroyed\n\n    /* istanbul ignore next: difficult to test */\n\n    this.listenOnRoot('bv::toaster::destroyed', function (toaster) {\n      if (toaster === _this2.computedToaster) {\n        _this2.hide();\n      }\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearDismissTimer();\n  },\n  methods: {\n    show: function show() {\n      var _this3 = this;\n\n      if (!this.localShow) {\n        this.ensureToaster();\n        var showEvt = this.buildEvent('show');\n        this.emitEvent(showEvt);\n        this.dismissStarted = this.resumeDismiss = 0;\n        this.order = Date.now() * (this.appendToast ? 1 : -1);\n        this.isHiding = false;\n        this.doRender = true;\n        this.$nextTick(function () {\n          // We show the toast after we have rendered the portal and b-toast wrapper\n          // so that screen readers will properly announce the toast\n          requestAF(function () {\n            _this3.localShow = true;\n          });\n        });\n      }\n    },\n    hide: function hide() {\n      var _this4 = this;\n\n      if (this.localShow) {\n        var hideEvt = this.buildEvent('hide');\n        this.emitEvent(hideEvt);\n        this.setHoverHandler(false);\n        this.dismissStarted = this.resumeDismiss = 0;\n        this.clearDismissTimer();\n        this.isHiding = true;\n        requestAF(function () {\n          _this4.localShow = false;\n        });\n      }\n    },\n    buildEvent: function buildEvent(type) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvEvent(type, _objectSpread({\n        cancelable: false,\n        target: this.$el || null,\n        relatedTarget: null\n      }, opts, {\n        vueTarget: this,\n        componentId: this.safeId()\n      }));\n    },\n    emitEvent: function emitEvent(bvEvt) {\n      var type = bvEvt.type;\n      this.$root.$emit(\"bv::toast:\".concat(type), bvEvt);\n      this.$emit(type, bvEvt);\n    },\n    ensureToaster: function ensureToaster() {\n      if (this.static) {\n        return;\n      }\n\n      if (!Wormhole.hasTarget(this.computedToaster)) {\n        var div = document.createElement('div');\n        document.body.appendChild(div);\n        var toaster = new BToaster({\n          parent: this.$root,\n          propsData: {\n            name: this.computedToaster\n          }\n        });\n        toaster.$mount(div);\n      }\n    },\n    startDismissTimer: function startDismissTimer() {\n      this.clearDismissTimer();\n\n      if (!this.noAutoHide) {\n        this.timer = setTimeout(this.hide, this.resumeDismiss || this.computedDuration);\n        this.dismissStarted = Date.now();\n        this.resumeDismiss = 0;\n      }\n    },\n    clearDismissTimer: function clearDismissTimer() {\n      clearTimeout(this.timer);\n      this.timer = null;\n    },\n    setHoverHandler: function setHoverHandler(on) {\n      var method = on ? eventOn : eventOff;\n      var el = this.$refs['b-toast'];\n      method(el, 'mouseenter', this.onPause, EVENT_OPTIONS);\n      method(el, 'mouseleave', this.onUnPause, EVENT_OPTIONS);\n    },\n    onPause: function onPause(evt) {\n      // Determine time remaining, and then pause timer\n      if (this.noAutoHide || this.noHoverPause || !this.timer || this.resumeDismiss) {\n        return;\n      }\n\n      var passed = Date.now() - this.dismissStarted;\n\n      if (passed > 0) {\n        this.clearDismissTimer();\n        this.resumeDismiss = Math.max(this.computedDuration - passed, MIN_DURATION);\n      }\n    },\n    onUnPause: function onUnPause(evt) {\n      // Restart timer with max of time remaining or 1 second\n      if (this.noAutoHide || this.noHoverPause || !this.resumeDismiss) {\n        this.resumeDismiss = this.dismissStarted = 0;\n        return;\n      }\n\n      this.startDismissTimer();\n    },\n    onLinkClick: function onLinkClick() {\n      var _this5 = this;\n\n      // We delay the close to allow time for the\n      // browser to process the link click\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this5.hide();\n        });\n      });\n    },\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n    },\n    onAfterEnter: function onAfterEnter() {\n      this.isTransitioning = false;\n      var hiddenEvt = this.buildEvent('shown');\n      this.emitEvent(hiddenEvt);\n      this.startDismissTimer();\n      this.setHoverHandler(true);\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.isTransitioning = false;\n      this.order = 0;\n      this.resumeDismiss = this.dismissStarted = 0;\n      var hiddenEvt = this.buildEvent('hidden');\n      this.emitEvent(hiddenEvt);\n      this.doRender = false;\n    },\n    makeToast: function makeToast(h) {\n      var _this6 = this;\n\n      // Render helper for generating the toast\n      // Assemble the header content\n      var $headerContent = [];\n      var $title = this.normalizeSlot('toast-title', this.slotScope);\n\n      if ($title) {\n        $headerContent.push($title);\n      } else if (this.title) {\n        $headerContent.push(h('strong', {\n          staticClass: 'mr-2'\n        }, this.title));\n      }\n\n      if (!this.noCloseButton) {\n        $headerContent.push(h(BButtonClose, {\n          staticClass: 'ml-auto mb-1',\n          on: {\n            click: function click(evt) {\n              _this6.hide();\n            }\n          }\n        }));\n      } // Assemble the header (if needed)\n\n\n      var $header = h();\n\n      if ($headerContent.length > 0) {\n        $header = h('header', {\n          staticClass: 'toast-header',\n          class: this.headerClass\n        }, $headerContent);\n      } // Toast body\n\n\n      var isLink = this.href || this.to;\n      var $body = h(isLink ? BLink : 'div', {\n        staticClass: 'toast-body',\n        class: this.bodyClass,\n        props: isLink ? {\n          to: this.to,\n          href: this.href\n        } : {},\n        on: isLink ? {\n          click: this.onLinkClick\n        } : {}\n      }, [this.normalizeSlot('default', this.slotScope) || h()]); // Build the toast\n\n      var $toast = h('div', {\n        key: \"toast-\".concat(this._uid),\n        ref: 'toast',\n        staticClass: 'toast',\n        class: this.toastClass,\n        attrs: _objectSpread({}, this.$attrs, {\n          tabindex: '0',\n          id: this.safeId()\n        })\n      }, [$header, $body]);\n      return $toast;\n    }\n  },\n  render: function render(h) {\n    if (!this.doRender || !this.isMounted) {\n      return h();\n    }\n\n    var name = \"b-toast-\".concat(this._uid);\n    return h(Portal, {\n      props: {\n        name: name,\n        to: this.computedToaster,\n        order: this.order,\n        slim: true,\n        disabled: this.static\n      }\n    }, [h('div', {\n      key: name,\n      ref: 'b-toast',\n      staticClass: 'b-toast',\n      class: this.bToastClasses,\n      attrs: {\n        id: this.safeId('_toast_outer'),\n        role: this.isHiding ? null : this.isStatus ? 'status' : 'alert',\n        'aria-live': this.isHiding ? null : this.isStatus ? 'polite' : 'assertive',\n        'aria-atomic': this.isHiding ? null : 'true'\n      }\n    }, [h(BVTransition, {\n      props: {\n        noFade: this.noFade\n      },\n      on: this.transitionHandlers\n    }, [this.localShow ? this.makeToast(h) : h()])])]);\n  }\n});\nexport default BToast;"]},"metadata":{},"sourceType":"module"}