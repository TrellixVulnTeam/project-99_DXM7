{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport { db } from '@/firebase';\nimport navbar from '@/components/Navbar.vue';\nexport default {\n  name: 'Cart',\n  components: {\n    navbar: navbar\n  },\n  data: function data() {\n    return {\n      ticket: {\n        products: null,\n        total: 0\n      },\n      counter: 0,\n      cart: [],\n      fields: ['#', 'remove', 'image', 'name', 'quantity', 'price']\n    };\n  },\n  methods: {\n    clean: function clean() {\n      this.cart = [];\n\n      for (var key in this.cart) {\n        this.cart[key].cart = false;\n        this.cart[key].quantity = 1;\n      }\n\n      localStorage.setItem('products', JSON.stringify(this.cart));\n      this.$refs['modal-1'].hide();\n\n      if (navigator) {\n        navigator.vibrate([100, 30, 100, 30, 100, 30, 200, 30, 200, 30, 200, 30, 100, 30, 100, 30, 100]);\n      }\n    },\n    remove: function remove(id) {\n      for (var index = 0; index < this.cart.length; index++) {\n        if (this.cart[index].id == id) {\n          this.cart.splice(index, 1);\n          localStorage.setItem('products', JSON.stringify(this.cart));\n        }\n      }\n    },\n    buy: function buy() {\n      this.ticket = {\n        products: this.cart,\n        total: this.total\n      };\n      db.collection('vue').add(this.ticket);\n      this.$refs['modal-1'].show();\n    },\n    increment: function increment(id) {\n      for (var index = 0; index < this.cart.length; index++) {\n        if (this.cart[index].id == id) {\n          this.cart[index].quantity++;\n          localStorage.setItem('products', JSON.stringify(this.cart));\n        }\n      }\n    },\n    decrement: function decrement(id) {\n      for (var index = 0; index < this.cart.length; index++) {\n        if (this.cart[index].id == id) {\n          this.cart[index].quantity--;\n          localStorage.setItem('products', JSON.stringify(this.cart));\n        }\n      }\n    }\n  },\n  computed: {\n    total: function total() {\n      var t = 0;\n\n      for (var index = 0; index < this.cart.length; index++) {\n        t += this.cart[index].price * this.cart[index].quantity;\n      }\n\n      return t;\n    }\n  },\n  created: function created() {\n    if (JSON.parse(localStorage.getItem('products'))) {\n      this.cart = JSON.parse(localStorage.getItem('products'));\n    } else {\n      this.cart = [];\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["db","navbar","name","components","data","ticket","products","total","counter","cart","fields","methods","clean","key","quantity","localStorage","setItem","JSON","stringify","$refs","hide","navigator","vibrate","remove","id","index","length","splice","buy","collection","add","show","increment","decrement","computed","t","price","created","parse","getItem"],"sourceRoot":"","sources":["D:\\UEK\\project-99\\src\\views\\Cart.vue"],"sourcesContent":[" <template>\r\n     <div >\r\n         <navbar />\r\n         <b-container fluid class=\"mt-4\">\r\n\r\n <b-row>\r\n     <b-col>\r\n        <h2> Lista zakupów </h2>\r\n     </b-col>\r\n </b-row>\r\n\r\n\r\n<b-row>\r\n    <b-col class=\"text-center\">\r\n        <b-table bordered  hover :items=\"cart\" :fields=\"fields\">\r\n\r\n            <template v-slot:cell(#)=\"data\">\r\n        {{ data.index+1 }}\r\n        </template>\r\n            <template v-slot:cell(price)=\"data\">\r\n        {{ data.item.price * data.item.quantity }}\r\n        </template>\r\n        <template v-slot:cell(remove)=\"data\">\r\n        <b-button @click=\"remove(data.item.id)\" variant=\"danger\" class=\"mr-2\">\r\n        X\r\n        </b-button>\r\n        </template>\r\n        <template v-slot:cell(quantity)=\"data\">\r\n        <b-row>\r\n            <b-col cols=\"3\" class=\"text-center\">\r\n            <b-button :disabled=\"data.item.quantity <=1\" variant=\"primary\" @click=\"decrement(data.item.id)\" class=\"mr-2\">\r\n        -\r\n            </b-button>\r\n        </b-col>\r\n        <b-col cols=\"6\" class=\"text-center\">\r\n            <h4>{{data.item.quantity}}</h4>\r\n        </b-col>\r\n        <b-col cols=\"3\" class=\"text-center\">\r\n            <b-button variant=\"primary\" @click=\"increment(data.item.id)\" class=\"mr-2\">\r\n        +\r\n            </b-button>\r\n        </b-col>\r\n        </b-row>\r\n\r\n\r\n\r\n    </template>\r\n\r\n     <template v-slot:cell(image)=\"data\">\r\n    <b-col class=\"text-center\">\r\n        <b-img style=\"max-width: 5rem;\" :src=\"require(`@/assets/img/books/book${data.item.id}.jpeg`)\" fluid alt=\"Responsive image\"></b-img>\r\n    </b-col>\r\n\r\n    </template>\r\n\r\n</b-table>\r\n\r\n</b-col>\r\n</b-row>\r\n<b-row class=\"text-center\" v-if=\"cart.length > 0\">\r\n    <b-col></b-col>\r\n    <b-col></b-col>\r\n    <b-col></b-col>\r\n    <b-col></b-col>\r\n    <b-col><h3>Łaczna suma</h3></b-col>\r\n    <b-col><h3>$ {{total}} </h3></b-col>\r\n</b-row>\r\n<b-row class=\"mt-4 text-center\" v-if=\"cart.length > 0\">\r\n    <b-col>\r\n        <b-button @click=\"clean\" variant=\"info\" block class=\"mr-2\">\r\n        Wyczyść listę\r\n        </b-button>\r\n    </b-col>\r\n<b-col></b-col>\r\n<b-col cols=\"4\"> Aplikacja </b-col>\r\n\r\n<b-col>\r\n\r\n</b-col>\r\n<b-col>\r\n    <b-button   @click=\"buy\" variant=\"success\" block class=\"mr-2\">\r\n        Kup produkty z listy\r\n    </b-button>\r\n</b-col>\r\n</b-row>\r\n<b-modal hide-header-close no-close-on-esc no-close-on-backdrop ref=\"modal-1\" centered title=\"Lista zakupów \">\r\n<template slot=\"modal-footer\">\r\n<b-button class=\"mt-3\" variant=\"info\" block @click=\"clean\">Potwierdź zamówienie i zamknij</b-button>\r\n\r\n\r\n    </template>\r\n\r\n<p class=\"mb-4\">Produkty:</p>\r\n<ul v-for=\"productFinal in ticket.products\" :key=\"productFinal.id\">\r\n<li>\r\nNazwa: {{productFinal.name}}\r\n</li>\r\n<li>\r\nIlość: {{productFinal.quantity}}\r\n</li>\r\n<li>\r\nCena: {{productFinal.price}}\r\n</li>\r\n<li>\r\nSuma: {{productFinal.price * productFinal.quantity}}\r\n</li>\r\n<hr>\r\n</ul>\r\n<h2 class=\"my-4 text-center\">Łaczna suma do zapłaty: ${{ ticket.total}}</h2>\r\n\r\n\r\n</b-modal>\r\n\r\n</b-container>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {db} from '@/firebase'\r\nimport navbar from '@/components/Navbar.vue'\r\nexport default {\r\n    name: 'Cart',\r\n    components: {\r\n        navbar\r\n    },\r\n    data(){\r\n        return {\r\n            ticket:{\r\n                products: null,\r\n                total:0\r\n            },\r\n            counter: 0,\r\n        cart:[],\r\n        fields: ['#','remove','image','name','quantity','price']\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        clean(){\r\n            this.cart = [];\r\n\r\n            for (const key in this.cart){\r\n                this.cart[key].cart = false\r\n                this.cart[key].quantity=1\r\n            }\r\n            localStorage.setItem('products',JSON.stringify(this.cart))\r\n            this.$refs['modal-1'].hide()\r\n            if(navigator){\r\n\t\t\t\tnavigator.vibrate([100,30,100,30,100,30,200,30,200,30,200,30,100,30,100,30,100])\r\n\t\t\t}\r\n        },\r\n        remove(id){\r\n\r\n            for(let index = 0;index <this.cart.length;index++){\r\n            if(this.cart[index].id == id){\r\n                this.cart.splice(index,1);\r\n                localStorage.setItem('products',JSON.stringify(this.cart))\r\n            }\r\n        }\r\n\r\n        },\r\n        buy(){\r\n            this.ticket={\r\n                products: this.cart,\r\n                total: this.total\r\n            }\r\n            db.collection('vue').add(this.ticket);\r\n            this.$refs['modal-1'].show()\r\n\r\n        },\r\n        increment(id){\r\n            for(let index=0; index <this.cart.length; index++){\r\n                if(this.cart[index].id == id){\r\n                    this.cart[index].quantity++\r\n                    localStorage.setItem('products',JSON.stringify(this.cart))\r\n                }\r\n            }\r\n        },\r\n        decrement(id){\r\n            for(let index=0; index <this.cart.length; index++){\r\n                if(this.cart[index].id == id){\r\n                    this.cart[index].quantity--\r\n                    localStorage.setItem('products',JSON.stringify(this.cart))\r\n                }\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        total(){\r\n            let t=0;\r\n            for(let index= 0;index <this.cart.length; index++){\r\n                t+= this.cart[index].price*this.cart[index].quantity\r\n\r\n            }\r\n            return t\r\n        }\r\n    },\r\n    created(){\r\n        if(JSON.parse(localStorage.getItem('products'))){\r\n            this.cart = JSON.parse(localStorage.getItem('products'))\r\n        }else{\r\n            this.cart = []\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}