{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport Vue from '../../utils/vue';\nimport modalManager from './helpers/modal-manager';\nimport BvModalEvent from './helpers/bv-modal-event.class';\nimport idMixin from '../../mixins/id';\nimport listenOnRootMixin from '../../mixins/listen-on-root';\nimport normalizeSlotMixin from '../../mixins/normalize-slot';\nimport BVTransition from '../../utils/bv-transition';\nimport KeyCodes from '../../utils/key-codes';\nimport observeDom from '../../utils/observe-dom';\nimport { BTransporterSingle } from '../../utils/transporter';\nimport { isBrowser } from '../../utils/env';\nimport { isString } from '../../utils/inspect';\nimport { getComponentConfig } from '../../utils/config';\nimport { stripTags } from '../../utils/html';\nimport { contains, eventOff, eventOn, isVisible, select, selectAll } from '../../utils/dom';\nimport { BButton } from '../button/button';\nimport { BButtonClose } from '../button/button-close'; // --- Constants ---\n\nvar NAME = 'BModal'; // ObserveDom config to detect changes in modal content\n// so that we can adjust the modal padding if needed\n\nvar OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  attributes: true,\n  attributeFilter: ['style', 'class'] // Options for DOM event listeners\n\n};\nvar EVT_OPTIONS = {\n  passive: true,\n  capture: false // Query selector to find all tabbable elements\n  // (includes tabindex=\"-1\", which we filter out after)\n\n};\nvar TABABLE_SELECTOR = ['button', '[href]:not(.disabled)', 'input', 'select', 'textarea', '[tabindex]', '[contenteditable]'].map(function (s) {\n  return \"\".concat(s, \":not(:disabled):not([disabled])\");\n}).join(', '); // --- Utility methods ---\n// Attempt to focus an element, and return true if successful\n\nvar attemptFocus = function attemptFocus(el) {\n  if (el && isVisible(el) && el.focus) {\n    try {\n      el.focus();\n    } catch (_unused) {}\n  } // If the element has focus, then return true\n\n\n  return document.activeElement === el;\n}; // --- Props ---\n\n\nexport var props = {\n  size: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'size');\n    }\n  },\n  centered: {\n    type: Boolean,\n    default: false\n  },\n  scrollable: {\n    type: Boolean,\n    default: false\n  },\n  buttonSize: {\n    type: String,\n    default: ''\n  },\n  noStacking: {\n    type: Boolean,\n    default: false\n  },\n  noFade: {\n    type: Boolean,\n    default: false\n  },\n  noCloseOnBackdrop: {\n    type: Boolean,\n    default: false\n  },\n  noCloseOnEsc: {\n    type: Boolean,\n    default: false\n  },\n  noEnforceFocus: {\n    type: Boolean,\n    default: false\n  },\n  title: {\n    type: String,\n    default: ''\n  },\n  titleHtml: {\n    type: String\n  },\n  titleTag: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'titleTag');\n    }\n  },\n  titleClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  titleSrOnly: {\n    type: Boolean,\n    default: false\n  },\n  ariaLabel: {\n    type: String,\n    default: null\n  },\n  headerBgVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerBgVariant');\n    }\n  },\n  headerBorderVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerBorderVariant');\n    }\n  },\n  headerTextVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerTextVariant');\n    }\n  },\n  headerCloseVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerCloseVariant');\n    }\n  },\n  headerClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  bodyBgVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'bodyBgVariant');\n    }\n  },\n  bodyTextVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'bodyTextVariant');\n    }\n  },\n  modalClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  dialogClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  contentClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  bodyClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  footerBgVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'footerBgVariant');\n    }\n  },\n  footerBorderVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'footerBorderVariant');\n    }\n  },\n  footerTextVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'footerTextVariant');\n    }\n  },\n  footerClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  hideHeader: {\n    type: Boolean,\n    default: false\n  },\n  hideFooter: {\n    type: Boolean,\n    default: false\n  },\n  hideHeaderClose: {\n    type: Boolean,\n    default: false\n  },\n  hideBackdrop: {\n    type: Boolean,\n    default: false\n  },\n  okOnly: {\n    type: Boolean,\n    default: false\n  },\n  okDisabled: {\n    type: Boolean,\n    default: false\n  },\n  cancelDisabled: {\n    type: Boolean,\n    default: false\n  },\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  returnFocus: {\n    // type: Object,\n    default: null\n  },\n  headerCloseLabel: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerCloseLabel');\n    }\n  },\n  cancelTitle: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'cancelTitle');\n    }\n  },\n  cancelTitleHtml: {\n    type: String\n  },\n  okTitle: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'okTitle');\n    }\n  },\n  okTitleHtml: {\n    type: String\n  },\n  cancelVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'cancelVariant');\n    }\n  },\n  okVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'okVariant');\n    }\n  },\n  lazy: {\n    type: Boolean,\n    default: false\n  },\n  busy: {\n    type: Boolean,\n    default: false\n  },\n  static: {\n    type: Boolean,\n    default: false\n  } // @vue/component\n\n};\nexport var BModal = /*#__PURE__*/Vue.extend({\n  name: NAME,\n  mixins: [idMixin, listenOnRootMixin, normalizeSlotMixin],\n  model: {\n    prop: 'visible',\n    event: 'change'\n  },\n  props: props,\n  data: function data() {\n    return {\n      isHidden: true,\n      // If modal should not be in document\n      isVisible: false,\n      // Controls modal visible state\n      isTransitioning: false,\n      // Used for style control\n      isShow: false,\n      // Used for style control\n      isBlock: false,\n      // Used for style control\n      isOpening: false,\n      // To signal that the modal is in the process of opening\n      isClosing: false,\n      // To signal that the modal is in the process of closing\n      ignoreBackdropClick: false,\n      // Used to signify if click out listener should ignore the click\n      isModalOverflowing: false,\n      return_focus: this.returnFocus || null,\n      // The following items are controlled by the modalManager instance\n      scrollbarWidth: 0,\n      zIndex: modalManager.getBaseZIndex(),\n      isTop: true,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalClasses: function modalClasses() {\n      return [{\n        fade: !this.noFade,\n        show: this.isShow\n      }, this.modalClass];\n    },\n    modalStyles: function modalStyles() {\n      var sbWidth = \"\".concat(this.scrollbarWidth, \"px\");\n      return {\n        paddingLeft: !this.isBodyOverflowing && this.isModalOverflowing ? sbWidth : '',\n        paddingRight: this.isBodyOverflowing && !this.isModalOverflowing ? sbWidth : '',\n        // Needed to fix issue https://github.com/bootstrap-vue/bootstrap-vue/issues/3457\n        // Even though we are using v-show, we must ensure 'none' is restored in the styles\n        display: this.isBlock ? 'block' : 'none'\n      };\n    },\n    dialogClasses: function dialogClasses() {\n      var _ref;\n\n      return [(_ref = {}, _defineProperty(_ref, \"modal-\".concat(this.size), Boolean(this.size)), _defineProperty(_ref, 'modal-dialog-centered', this.centered), _defineProperty(_ref, 'modal-dialog-scrollable', this.scrollable), _ref), this.dialogClass];\n    },\n    headerClasses: function headerClasses() {\n      var _ref2;\n\n      return [(_ref2 = {}, _defineProperty(_ref2, \"bg-\".concat(this.headerBgVariant), Boolean(this.headerBgVariant)), _defineProperty(_ref2, \"text-\".concat(this.headerTextVariant), Boolean(this.headerTextVariant)), _defineProperty(_ref2, \"border-\".concat(this.headerBorderVariant), Boolean(this.headerBorderVariant)), _ref2), this.headerClass];\n    },\n    titleClasses: function titleClasses() {\n      return [{\n        'sr-only': this.titleSrOnly\n      }, this.titleClass];\n    },\n    bodyClasses: function bodyClasses() {\n      var _ref3;\n\n      return [(_ref3 = {}, _defineProperty(_ref3, \"bg-\".concat(this.bodyBgVariant), Boolean(this.bodyBgVariant)), _defineProperty(_ref3, \"text-\".concat(this.bodyTextVariant), Boolean(this.bodyTextVariant)), _ref3), this.bodyClass];\n    },\n    footerClasses: function footerClasses() {\n      var _ref4;\n\n      return [(_ref4 = {}, _defineProperty(_ref4, \"bg-\".concat(this.footerBgVariant), Boolean(this.footerBgVariant)), _defineProperty(_ref4, \"text-\".concat(this.footerTextVariant), Boolean(this.footerTextVariant)), _defineProperty(_ref4, \"border-\".concat(this.footerBorderVariant), Boolean(this.footerBorderVariant)), _ref4), this.footerClass];\n    },\n    modalOuterStyle: function modalOuterStyle() {\n      // Styles needed for proper stacking of modals\n      return {\n        position: 'absolute',\n        zIndex: this.zIndex\n      };\n    },\n    slotScope: function slotScope() {\n      return {\n        ok: this.onOk,\n        cancel: this.onCancel,\n        close: this.onClose,\n        hide: this.hide,\n        visible: this.isVisible\n      };\n    }\n  },\n  watch: {\n    visible: function visible(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this[newVal ? 'show' : 'hide']();\n      }\n    }\n  },\n  created: function created() {\n    // Define non-reactive properties\n    this._observer = null;\n  },\n  mounted: function mounted() {\n    // Set initial z-index as queried from the DOM\n    this.zIndex = modalManager.getBaseZIndex(); // Listen for events from others to either open or close ourselves\n    // and listen to all modals to enable/disable enforce focus\n\n    this.listenOnRoot('bv::show::modal', this.showHandler);\n    this.listenOnRoot('bv::hide::modal', this.hideHandler);\n    this.listenOnRoot('bv::toggle::modal', this.toggleHandler); // Listen for `bv:modal::show events`, and close ourselves if the\n    // opening modal not us\n\n    this.listenOnRoot('bv::modal::show', this.modalListener); // Initially show modal?\n\n    if (this.visible === true) {\n      this.$nextTick(this.show);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Ensure everything is back to normal\n    if (this._observer) {\n      this._observer.disconnect();\n\n      this._observer = null;\n    }\n\n    this.setEnforceFocus(false);\n    this.setResizeEvent(false);\n\n    if (this.isVisible) {\n      this.isVisible = false;\n      this.isShow = false;\n      this.isTransitioning = false;\n    }\n  },\n  methods: {\n    // Private method to update the v-model\n    updateModel: function updateModel(val) {\n      if (val !== this.visible) {\n        this.$emit('change', val);\n      }\n    },\n    // Private method to create a BvModalEvent object\n    buildEvent: function buildEvent(type) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvModalEvent(type, _objectSpread({\n        // Default options\n        cancelable: false,\n        target: this.$refs.modal || this.$el || null,\n        relatedTarget: null,\n        trigger: null\n      }, opts, {\n        // Options that can't be overridden\n        vueTarget: this,\n        componentId: this.safeId()\n      }));\n    },\n    // Public method to show modal\n    show: function show() {\n      if (this.isVisible || this.isOpening) {\n        // If already open, or in the process of opening, do nothing\n\n        /* istanbul ignore next */\n        return;\n      }\n\n      if (this.isClosing) {\n        // If we are in the process of closing, wait until hidden before re-opening\n\n        /* istanbul ignore next: very difficult to test */\n        this.$once('hidden', this.show);\n        /* istanbul ignore next */\n\n        return;\n      }\n\n      this.isOpening = true; // Set the element to return focus to when closed\n\n      this.return_focus = this.return_focus || this.getActiveElement();\n      var showEvt = this.buildEvent('show', {\n        cancelable: true\n      });\n      this.emitEvent(showEvt); // Don't show if canceled\n\n      if (showEvt.defaultPrevented || this.isVisible) {\n        this.isOpening = false; // Ensure the v-model reflects the current state\n\n        this.updateModel(false);\n        return;\n      } // Show the modal\n\n\n      this.doShow();\n    },\n    // Public method to hide modal\n    hide: function hide() {\n      var trigger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      if (!this.isVisible || this.isClosing) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      this.isClosing = true;\n      var hideEvt = this.buildEvent('hide', {\n        cancelable: trigger !== 'FORCE',\n        trigger: trigger || null\n      }); // We emit specific event for one of the three built-in buttons\n\n      if (trigger === 'ok') {\n        this.$emit('ok', hideEvt);\n      } else if (trigger === 'cancel') {\n        this.$emit('cancel', hideEvt);\n      } else if (trigger === 'headerclose') {\n        this.$emit('close', hideEvt);\n      }\n\n      this.emitEvent(hideEvt); // Hide if not canceled\n\n      if (hideEvt.defaultPrevented || !this.isVisible) {\n        this.isClosing = false; // Ensure v-model reflects current state\n\n        this.updateModel(true);\n        return;\n      } // Stop observing for content changes\n\n\n      if (this._observer) {\n        this._observer.disconnect();\n\n        this._observer = null;\n      } // Trigger the hide transition\n\n\n      this.isVisible = false; // Update the v-model\n\n      this.updateModel(false);\n    },\n    // Public method to toggle modal visibility\n    toggle: function toggle(triggerEl) {\n      if (triggerEl) {\n        this.return_focus = triggerEl;\n      }\n\n      if (this.isVisible) {\n        this.hide('toggle');\n      } else {\n        this.show();\n      }\n    },\n    // Private method to get the current document active element\n    getActiveElement: function getActiveElement() {\n      if (isBrowser) {\n        var activeElement = document.activeElement; // Note: On IE11, `document.activeElement` may be null.\n        // So we test it for truthiness first.\n        // https://github.com/bootstrap-vue/bootstrap-vue/issues/3206\n        // Returning focus to document.body may cause unwanted scrolls, so we\n        // exclude setting focus on body\n\n        if (activeElement && activeElement !== document.body && activeElement.focus) {\n          // Preset the fallback return focus value if it is not set\n          // `document.activeElement` should be the trigger element that was clicked or\n          // in the case of using the v-model, which ever element has current focus\n          // Will be overridden by some commands such as toggle, etc.\n          return activeElement;\n        }\n      }\n\n      return null;\n    },\n    // Private method to get a list of all tabable elements within modal content\n    getTabables: function getTabables() {\n      // Find all tabable elements in the modal content\n      // Assumes users have not used tabindex > 0 on elements!\n      return selectAll(TABABLE_SELECTOR, this.$refs.content).filter(isVisible).filter(function (i) {\n        return i.tabIndex > -1 && !i.disabled;\n      });\n    },\n    // Private method to finish showing modal\n    doShow: function doShow() {\n      var _this = this;\n      /* istanbul ignore next: commenting out for now until we can test stacking */\n\n\n      if (modalManager.modalsAreOpen && this.noStacking) {\n        // If another modal(s) is already open, wait for it(them) to close\n        this.listenOnRootOnce('bv::modal::hidden', this.doShow);\n        return;\n      }\n\n      modalManager.registerModal(this); // Place modal in DOM\n\n      this.isHidden = false;\n      this.$nextTick(function () {\n        // We do this in `$nextTick()` to ensure the modal is in DOM first\n        // before we show it\n        _this.isVisible = true;\n        _this.isOpening = false; // Update the v-model\n\n        _this.updateModel(true);\n\n        _this.$nextTick(function () {\n          // In a nextTick in case modal content is lazy\n          // Observe changes in modal content and adjust if necessary\n          _this._observer = observeDom(_this.$refs.content, _this.checkModalOverflow.bind(_this), OBSERVER_CONFIG);\n        });\n      });\n    },\n    // Transition handlers\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n      this.setResizeEvent(true);\n    },\n    onEnter: function onEnter() {\n      this.isBlock = true;\n    },\n    onAfterEnter: function onAfterEnter() {\n      var _this2 = this;\n\n      this.checkModalOverflow();\n      this.isShow = true;\n      this.isTransitioning = false;\n      this.$nextTick(function () {\n        _this2.emitEvent(_this2.buildEvent('shown'));\n\n        _this2.focusFirst();\n\n        _this2.setEnforceFocus(true);\n      });\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n      this.setResizeEvent(false);\n      this.setEnforceFocus(false);\n    },\n    onLeave: function onLeave() {\n      // Remove the 'show' class\n      this.isShow = false;\n    },\n    onAfterLeave: function onAfterLeave() {\n      var _this3 = this;\n\n      this.isBlock = false;\n      this.isTransitioning = false;\n      this.isModalOverflowing = false;\n      this.isHidden = true;\n      this.$nextTick(function () {\n        _this3.isClosing = false;\n        modalManager.unregisterModal(_this3);\n\n        _this3.returnFocusTo(); // TODO: Need to find a way to pass the `trigger` property\n        //       to the `hidden` event, not just only the `hide` event\n\n\n        _this3.emitEvent(_this3.buildEvent('hidden'));\n      });\n    },\n    // Event emitter\n    emitEvent: function emitEvent(bvModalEvt) {\n      var type = bvModalEvt.type; // We emit on root first incase a global listener wants to cancel\n      // the event first before the instance emits it's event\n\n      this.emitOnRoot(\"bv::modal::\".concat(type), bvModalEvt, bvModalEvt.componentId);\n      this.$emit(type, bvModalEvt);\n    },\n    // UI event handlers\n    onDialogMousedown: function onDialogMousedown() {\n      var _this4 = this; // Watch to see if the matching mouseup event occurs outside the dialog\n      // And if it does, cancel the clickOut handler\n\n\n      var modal = this.$refs.modal;\n\n      var onceModalMouseup = function onceModalMouseup(evt) {\n        eventOff(modal, 'mouseup', onceModalMouseup, EVT_OPTIONS);\n\n        if (evt.target === modal) {\n          _this4.ignoreBackdropClick = true;\n        }\n      };\n\n      eventOn(modal, 'mouseup', onceModalMouseup, EVT_OPTIONS);\n    },\n    onClickOut: function onClickOut(evt) {\n      if (this.ignoreBackdropClick) {\n        // Click was initiated inside the modal content, but finished outside.\n        // Set by the above onDialogMousedown handler\n        this.ignoreBackdropClick = false;\n        return;\n      } // Do nothing if not visible, backdrop click disabled, or element\n      // that generated click event is no longer in document body\n\n\n      if (!this.isVisible || this.noCloseOnBackdrop || !contains(document.body, evt.target)) {\n        return;\n      } // If backdrop clicked, hide modal\n\n\n      if (!contains(this.$refs.content, evt.target)) {\n        this.hide('backdrop');\n      }\n    },\n    onOk: function onOk() {\n      this.hide('ok');\n    },\n    onCancel: function onCancel() {\n      this.hide('cancel');\n    },\n    onClose: function onClose() {\n      this.hide('headerclose');\n    },\n    onEsc: function onEsc(evt) {\n      // If ESC pressed, hide modal\n      if (evt.keyCode === KeyCodes.ESC && this.isVisible && !this.noCloseOnEsc) {\n        this.hide('esc');\n      }\n    },\n    // Document focusin listener\n    focusHandler: function focusHandler(evt) {\n      // If focus leaves modal content, bring it back\n      var content = this.$refs.content;\n      var target = evt.target;\n\n      if (!this.noEnforceFocus && this.isTop && this.isVisible && content && document !== target && !contains(content, target)) {\n        var tabables = this.getTabables();\n\n        if (this.$refs.bottomTrap && target === this.$refs.bottomTrap) {\n          // If user pressed TAB out of modal into our bottom trab trap element\n          // Find the first tabable element in the modal content and focus it\n          if (attemptFocus(tabables[0])) {\n            // Focus was successful\n            return;\n          }\n        } else if (this.$refs.topTrap && target === this.$refs.topTrap) {\n          // If user pressed CTRL-TAB out of modal and into our top tab trap element\n          // Find the last tabable element in the modal content and focus it\n          if (attemptFocus(tabables[tabables.length - 1])) {\n            // Focus was successful\n            return;\n          }\n        } // Otherwise focus the modal content container\n\n\n        content.focus({\n          preventScroll: true\n        });\n      }\n    },\n    // Turn on/off focusin listener\n    setEnforceFocus: function setEnforceFocus(on) {\n      var method = on ? eventOn : eventOff;\n      method(document, 'focusin', this.focusHandler, EVT_OPTIONS);\n    },\n    // Resize listener\n    setResizeEvent: function setResizeEvent(on) {\n      var method = on ? eventOn : eventOff; // These events should probably also check if\n      // body is overflowing\n\n      method(window, 'resize', this.checkModalOverflow, EVT_OPTIONS);\n      method(window, 'orientationchange', this.checkModalOverflow, EVT_OPTIONS);\n    },\n    // Root listener handlers\n    showHandler: function showHandler(id, triggerEl) {\n      if (id === this.safeId()) {\n        this.return_focus = triggerEl || this.getActiveElement();\n        this.show();\n      }\n    },\n    hideHandler: function hideHandler(id) {\n      if (id === this.safeId()) {\n        this.hide('event');\n      }\n    },\n    toggleHandler: function toggleHandler(id, triggerEl) {\n      if (id === this.safeId()) {\n        this.toggle(triggerEl);\n      }\n    },\n    modalListener: function modalListener(bvEvt) {\n      // If another modal opens, close this one if stacking not permitted\n      if (this.noStacking && bvEvt.vueTarget !== this) {\n        this.hide();\n      }\n    },\n    // Focus control handlers\n    focusFirst: function focusFirst() {\n      // Don't try and focus if we are SSR\n      if (isBrowser) {\n        var modal = this.$refs.modal;\n        var content = this.$refs.content;\n        var activeElement = this.getActiveElement(); // If the modal contains the activeElement, we don't do anything\n\n        if (modal && content && !(activeElement && contains(content, activeElement))) {\n          // Make sure top of modal is showing (if longer than the viewport)\n          // and focus the modal content wrapper\n          this.$nextTick(function () {\n            modal.scrollTop = 0;\n            content.focus();\n          });\n        }\n      }\n    },\n    returnFocusTo: function returnFocusTo() {\n      // Prefer `returnFocus` prop over event specified\n      // `return_focus` value\n      var el = this.returnFocus || this.return_focus || null;\n      this.return_focus = null;\n      this.$nextTick(function () {\n        // Is el a string CSS selector?\n        el = isString(el) ? select(el) : el;\n\n        if (el) {\n          // Possibly could be a component reference\n          el = el.$el || el;\n          attemptFocus(el);\n        }\n      });\n    },\n    checkModalOverflow: function checkModalOverflow() {\n      if (this.isVisible) {\n        var modal = this.$refs.modal;\n        this.isModalOverflowing = modal.scrollHeight > document.documentElement.clientHeight;\n      }\n    },\n    makeModal: function makeModal(h) {\n      // Modal header\n      var header = h();\n\n      if (!this.hideHeader) {\n        var modalHeader = this.normalizeSlot('modal-header', this.slotScope);\n\n        if (!modalHeader) {\n          var closeButton = h();\n\n          if (!this.hideHeaderClose) {\n            closeButton = h(BButtonClose, {\n              props: {\n                disabled: this.isTransitioning,\n                ariaLabel: this.headerCloseLabel,\n                textVariant: this.headerCloseVariant || this.headerTextVariant\n              },\n              on: {\n                click: this.onClose\n              }\n            }, [this.normalizeSlot('modal-header-close')]);\n          }\n\n          var domProps = !this.hasNormalizedSlot('modal-title') && this.titleHtml ? {\n            innerHTML: this.titleHtml\n          } : {};\n          modalHeader = [h(this.titleTag, {\n            staticClass: 'modal-title',\n            class: this.titleClasses,\n            attrs: {\n              id: this.safeId('__BV_modal_title_')\n            },\n            domProps: domProps\n          }, [this.normalizeSlot('modal-title', this.slotScope) || stripTags(this.title)]), closeButton];\n        }\n\n        header = h('header', {\n          ref: 'header',\n          staticClass: 'modal-header',\n          class: this.headerClasses,\n          attrs: {\n            id: this.safeId('__BV_modal_header_')\n          }\n        }, [modalHeader]);\n      } // Modal body\n\n\n      var body = h('div', {\n        ref: 'body',\n        staticClass: 'modal-body',\n        class: this.bodyClasses,\n        attrs: {\n          id: this.safeId('__BV_modal_body_')\n        }\n      }, this.normalizeSlot('default', this.slotScope)); // Modal footer\n\n      var footer = h();\n\n      if (!this.hideFooter) {\n        var modalFooter = this.normalizeSlot('modal-footer', this.slotScope);\n\n        if (!modalFooter) {\n          var cancelButton = h();\n\n          if (!this.okOnly) {\n            var cancelHtml = this.cancelTitleHtml ? {\n              innerHTML: this.cancelTitleHtml\n            } : null;\n            cancelButton = h(BButton, {\n              props: {\n                variant: this.cancelVariant,\n                size: this.buttonSize,\n                disabled: this.cancelDisabled || this.busy || this.isTransitioning\n              },\n              on: {\n                click: this.onCancel\n              }\n            }, [this.normalizeSlot('modal-cancel') || (cancelHtml ? h('span', {\n              domProps: cancelHtml\n            }) : stripTags(this.cancelTitle))]);\n          }\n\n          var okHtml = this.okTitleHtml ? {\n            innerHTML: this.okTitleHtml\n          } : null;\n          var okButton = h(BButton, {\n            props: {\n              variant: this.okVariant,\n              size: this.buttonSize,\n              disabled: this.okDisabled || this.busy || this.isTransitioning\n            },\n            on: {\n              click: this.onOk\n            }\n          }, [this.normalizeSlot('modal-ok') || (okHtml ? h('span', {\n            domProps: okHtml\n          }) : stripTags(this.okTitle))]);\n          modalFooter = [cancelButton, okButton];\n        }\n\n        footer = h('footer', {\n          ref: 'footer',\n          staticClass: 'modal-footer',\n          class: this.footerClasses,\n          attrs: {\n            id: this.safeId('__BV_modal_footer_')\n          }\n        }, [modalFooter]);\n      } // Assemble modal content\n\n\n      var modalContent = h('div', {\n        ref: 'content',\n        staticClass: 'modal-content',\n        class: this.contentClass,\n        attrs: {\n          role: 'document',\n          id: this.safeId('__BV_modal_content_'),\n          tabindex: '-1'\n        }\n      }, [header, body, footer]); // Tab trap to prevent page from scrolling to next element in\n      // tab index during enforce focus tab cycle\n\n      var tabTrapTop = h();\n      var tabTrapBottom = h();\n\n      if (this.isVisible && !this.noEnforceFocus) {\n        tabTrapTop = h('span', {\n          ref: 'topTrap',\n          attrs: {\n            tabindex: '0'\n          }\n        });\n        tabTrapBottom = h('span', {\n          ref: 'bottomTrap',\n          attrs: {\n            tabindex: '0'\n          }\n        });\n      } // Modal dialog wrapper\n\n\n      var modalDialog = h('div', {\n        ref: 'dialog',\n        staticClass: 'modal-dialog',\n        class: this.dialogClasses,\n        on: {\n          mousedown: this.onDialogMousedown\n        }\n      }, [tabTrapTop, modalContent, tabTrapBottom]); // Modal\n\n      var modal = h('div', {\n        ref: 'modal',\n        staticClass: 'modal',\n        class: this.modalClasses,\n        style: this.modalStyles,\n        directives: [{\n          name: 'show',\n          rawName: 'v-show',\n          value: this.isVisible,\n          expression: 'isVisible'\n        }],\n        attrs: {\n          id: this.safeId(),\n          role: 'dialog',\n          'aria-hidden': this.isVisible ? null : 'true',\n          'aria-modal': this.isVisible ? 'true' : null,\n          'aria-label': this.ariaLabel,\n          'aria-labelledby': this.hideHeader || this.ariaLabel || !(this.hasNormalizedSlot('modal-title') || this.titleHtml || this.title) ? null : this.safeId('__BV_modal_title_'),\n          'aria-describedby': this.safeId('__BV_modal_body_')\n        },\n        on: {\n          keydown: this.onEsc,\n          click: this.onClickOut\n        }\n      }, [modalDialog]); // Wrap modal in transition\n      // Sadly, we can't use BVTransition here due to the differences in\n      // transition durations for .modal and .modal-dialog. Not until\n      // issue https://github.com/vuejs/vue/issues/9986 is resolved\n\n      modal = h('transition', {\n        props: {\n          enterClass: '',\n          enterToClass: '',\n          enterActiveClass: '',\n          leaveClass: '',\n          leaveActiveClass: '',\n          leaveToClass: ''\n        },\n        on: {\n          beforeEnter: this.onBeforeEnter,\n          enter: this.onEnter,\n          afterEnter: this.onAfterEnter,\n          beforeLeave: this.onBeforeLeave,\n          leave: this.onLeave,\n          afterLeave: this.onAfterLeave\n        }\n      }, [modal]); // Modal backdrop\n\n      var backdrop = h();\n\n      if (!this.hideBackdrop && this.isVisible) {\n        backdrop = h('div', {\n          staticClass: 'modal-backdrop',\n          attrs: {\n            id: this.safeId('__BV_modal_backdrop_')\n          }\n        }, [this.normalizeSlot('modal-backdrop')]);\n      }\n\n      backdrop = h(BVTransition, {\n        props: {\n          noFade: this.noFade\n        }\n      }, [backdrop]); // Assemble modal and backdrop in an outer <div>\n\n      return h('div', {\n        key: \"modal-outer-\".concat(this._uid),\n        style: this.modalOuterStyle,\n        attrs: {\n          id: this.safeId('__BV_modal_outer_')\n        }\n      }, [modal, backdrop]);\n    }\n  },\n  render: function render(h) {\n    if (this.static) {\n      return this.lazy && this.isHidden ? h() : this.makeModal(h);\n    } else {\n      return this.isHidden ? h() : h(BTransporterSingle, {}, [this.makeModal(h)]);\n    }\n  }\n});\nexport default BModal;","map":{"version":3,"sources":["D:/UEK/project-99/node_modules/bootstrap-vue/esm/components/modal/modal.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","Vue","modalManager","BvModalEvent","idMixin","listenOnRootMixin","normalizeSlotMixin","BVTransition","KeyCodes","observeDom","BTransporterSingle","isBrowser","isString","getComponentConfig","stripTags","contains","eventOff","eventOn","isVisible","select","selectAll","BButton","BButtonClose","NAME","OBSERVER_CONFIG","subtree","childList","characterData","attributes","attributeFilter","EVT_OPTIONS","passive","capture","TABABLE_SELECTOR","map","s","concat","join","attemptFocus","el","focus","_unused","document","activeElement","props","size","type","String","default","_default","centered","Boolean","scrollable","buttonSize","noStacking","noFade","noCloseOnBackdrop","noCloseOnEsc","noEnforceFocus","title","titleHtml","titleTag","titleClass","Array","titleSrOnly","ariaLabel","headerBgVariant","headerBorderVariant","headerTextVariant","headerCloseVariant","headerClass","bodyBgVariant","bodyTextVariant","modalClass","dialogClass","contentClass","bodyClass","footerBgVariant","footerBorderVariant","footerTextVariant","footerClass","hideHeader","hideFooter","hideHeaderClose","hideBackdrop","okOnly","okDisabled","cancelDisabled","visible","returnFocus","headerCloseLabel","cancelTitle","cancelTitleHtml","okTitle","okTitleHtml","cancelVariant","okVariant","lazy","busy","static","BModal","extend","name","mixins","model","prop","event","data","isHidden","isTransitioning","isShow","isBlock","isOpening","isClosing","ignoreBackdropClick","isModalOverflowing","return_focus","scrollbarWidth","zIndex","getBaseZIndex","isTop","isBodyOverflowing","computed","modalClasses","fade","show","modalStyles","sbWidth","paddingLeft","paddingRight","display","dialogClasses","_ref","headerClasses","_ref2","titleClasses","bodyClasses","_ref3","footerClasses","_ref4","modalOuterStyle","position","slotScope","ok","onOk","cancel","onCancel","close","onClose","hide","watch","newVal","oldVal","created","_observer","mounted","listenOnRoot","showHandler","hideHandler","toggleHandler","modalListener","$nextTick","beforeDestroy","disconnect","setEnforceFocus","setResizeEvent","methods","updateModel","val","$emit","buildEvent","opts","undefined","cancelable","$refs","modal","$el","relatedTarget","trigger","vueTarget","componentId","safeId","$once","getActiveElement","showEvt","emitEvent","defaultPrevented","doShow","hideEvt","toggle","triggerEl","body","getTabables","content","tabIndex","disabled","_this","modalsAreOpen","listenOnRootOnce","registerModal","checkModalOverflow","bind","onBeforeEnter","onEnter","onAfterEnter","_this2","focusFirst","onBeforeLeave","onLeave","onAfterLeave","_this3","unregisterModal","returnFocusTo","bvModalEvt","emitOnRoot","onDialogMousedown","_this4","onceModalMouseup","evt","onClickOut","onEsc","keyCode","ESC","focusHandler","tabables","bottomTrap","topTrap","preventScroll","on","method","window","id","bvEvt","scrollTop","scrollHeight","documentElement","clientHeight","makeModal","h","header","modalHeader","normalizeSlot","closeButton","textVariant","click","domProps","hasNormalizedSlot","innerHTML","staticClass","class","attrs","ref","footer","modalFooter","cancelButton","cancelHtml","variant","okHtml","okButton","modalContent","role","tabindex","tabTrapTop","tabTrapBottom","modalDialog","mousedown","style","directives","rawName","expression","keydown","enterClass","enterToClass","enterActiveClass","leaveClass","leaveActiveClass","leaveToClass","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave","backdrop","_uid","render"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vue from '../../utils/vue';\nimport modalManager from './helpers/modal-manager';\nimport BvModalEvent from './helpers/bv-modal-event.class';\nimport idMixin from '../../mixins/id';\nimport listenOnRootMixin from '../../mixins/listen-on-root';\nimport normalizeSlotMixin from '../../mixins/normalize-slot';\nimport BVTransition from '../../utils/bv-transition';\nimport KeyCodes from '../../utils/key-codes';\nimport observeDom from '../../utils/observe-dom';\nimport { BTransporterSingle } from '../../utils/transporter';\nimport { isBrowser } from '../../utils/env';\nimport { isString } from '../../utils/inspect';\nimport { getComponentConfig } from '../../utils/config';\nimport { stripTags } from '../../utils/html';\nimport { contains, eventOff, eventOn, isVisible, select, selectAll } from '../../utils/dom';\nimport { BButton } from '../button/button';\nimport { BButtonClose } from '../button/button-close'; // --- Constants ---\n\nvar NAME = 'BModal'; // ObserveDom config to detect changes in modal content\n// so that we can adjust the modal padding if needed\n\nvar OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  attributes: true,\n  attributeFilter: ['style', 'class'] // Options for DOM event listeners\n\n};\nvar EVT_OPTIONS = {\n  passive: true,\n  capture: false // Query selector to find all tabbable elements\n  // (includes tabindex=\"-1\", which we filter out after)\n\n};\nvar TABABLE_SELECTOR = ['button', '[href]:not(.disabled)', 'input', 'select', 'textarea', '[tabindex]', '[contenteditable]'].map(function (s) {\n  return \"\".concat(s, \":not(:disabled):not([disabled])\");\n}).join(', '); // --- Utility methods ---\n// Attempt to focus an element, and return true if successful\n\nvar attemptFocus = function attemptFocus(el) {\n  if (el && isVisible(el) && el.focus) {\n    try {\n      el.focus();\n    } catch (_unused) {}\n  } // If the element has focus, then return true\n\n\n  return document.activeElement === el;\n}; // --- Props ---\n\n\nexport var props = {\n  size: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'size');\n    }\n  },\n  centered: {\n    type: Boolean,\n    default: false\n  },\n  scrollable: {\n    type: Boolean,\n    default: false\n  },\n  buttonSize: {\n    type: String,\n    default: ''\n  },\n  noStacking: {\n    type: Boolean,\n    default: false\n  },\n  noFade: {\n    type: Boolean,\n    default: false\n  },\n  noCloseOnBackdrop: {\n    type: Boolean,\n    default: false\n  },\n  noCloseOnEsc: {\n    type: Boolean,\n    default: false\n  },\n  noEnforceFocus: {\n    type: Boolean,\n    default: false\n  },\n  title: {\n    type: String,\n    default: ''\n  },\n  titleHtml: {\n    type: String\n  },\n  titleTag: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'titleTag');\n    }\n  },\n  titleClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  titleSrOnly: {\n    type: Boolean,\n    default: false\n  },\n  ariaLabel: {\n    type: String,\n    default: null\n  },\n  headerBgVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerBgVariant');\n    }\n  },\n  headerBorderVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerBorderVariant');\n    }\n  },\n  headerTextVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerTextVariant');\n    }\n  },\n  headerCloseVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerCloseVariant');\n    }\n  },\n  headerClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  bodyBgVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'bodyBgVariant');\n    }\n  },\n  bodyTextVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'bodyTextVariant');\n    }\n  },\n  modalClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  dialogClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  contentClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  bodyClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  footerBgVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'footerBgVariant');\n    }\n  },\n  footerBorderVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'footerBorderVariant');\n    }\n  },\n  footerTextVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'footerTextVariant');\n    }\n  },\n  footerClass: {\n    type: [String, Array, Object],\n    default: null\n  },\n  hideHeader: {\n    type: Boolean,\n    default: false\n  },\n  hideFooter: {\n    type: Boolean,\n    default: false\n  },\n  hideHeaderClose: {\n    type: Boolean,\n    default: false\n  },\n  hideBackdrop: {\n    type: Boolean,\n    default: false\n  },\n  okOnly: {\n    type: Boolean,\n    default: false\n  },\n  okDisabled: {\n    type: Boolean,\n    default: false\n  },\n  cancelDisabled: {\n    type: Boolean,\n    default: false\n  },\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  returnFocus: {\n    // type: Object,\n    default: null\n  },\n  headerCloseLabel: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'headerCloseLabel');\n    }\n  },\n  cancelTitle: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'cancelTitle');\n    }\n  },\n  cancelTitleHtml: {\n    type: String\n  },\n  okTitle: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'okTitle');\n    }\n  },\n  okTitleHtml: {\n    type: String\n  },\n  cancelVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'cancelVariant');\n    }\n  },\n  okVariant: {\n    type: String,\n    default: function _default() {\n      return getComponentConfig(NAME, 'okVariant');\n    }\n  },\n  lazy: {\n    type: Boolean,\n    default: false\n  },\n  busy: {\n    type: Boolean,\n    default: false\n  },\n  static: {\n    type: Boolean,\n    default: false\n  } // @vue/component\n\n};\nexport var BModal =\n/*#__PURE__*/\nVue.extend({\n  name: NAME,\n  mixins: [idMixin, listenOnRootMixin, normalizeSlotMixin],\n  model: {\n    prop: 'visible',\n    event: 'change'\n  },\n  props: props,\n  data: function data() {\n    return {\n      isHidden: true,\n      // If modal should not be in document\n      isVisible: false,\n      // Controls modal visible state\n      isTransitioning: false,\n      // Used for style control\n      isShow: false,\n      // Used for style control\n      isBlock: false,\n      // Used for style control\n      isOpening: false,\n      // To signal that the modal is in the process of opening\n      isClosing: false,\n      // To signal that the modal is in the process of closing\n      ignoreBackdropClick: false,\n      // Used to signify if click out listener should ignore the click\n      isModalOverflowing: false,\n      return_focus: this.returnFocus || null,\n      // The following items are controlled by the modalManager instance\n      scrollbarWidth: 0,\n      zIndex: modalManager.getBaseZIndex(),\n      isTop: true,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalClasses: function modalClasses() {\n      return [{\n        fade: !this.noFade,\n        show: this.isShow\n      }, this.modalClass];\n    },\n    modalStyles: function modalStyles() {\n      var sbWidth = \"\".concat(this.scrollbarWidth, \"px\");\n      return {\n        paddingLeft: !this.isBodyOverflowing && this.isModalOverflowing ? sbWidth : '',\n        paddingRight: this.isBodyOverflowing && !this.isModalOverflowing ? sbWidth : '',\n        // Needed to fix issue https://github.com/bootstrap-vue/bootstrap-vue/issues/3457\n        // Even though we are using v-show, we must ensure 'none' is restored in the styles\n        display: this.isBlock ? 'block' : 'none'\n      };\n    },\n    dialogClasses: function dialogClasses() {\n      var _ref;\n\n      return [(_ref = {}, _defineProperty(_ref, \"modal-\".concat(this.size), Boolean(this.size)), _defineProperty(_ref, 'modal-dialog-centered', this.centered), _defineProperty(_ref, 'modal-dialog-scrollable', this.scrollable), _ref), this.dialogClass];\n    },\n    headerClasses: function headerClasses() {\n      var _ref2;\n\n      return [(_ref2 = {}, _defineProperty(_ref2, \"bg-\".concat(this.headerBgVariant), Boolean(this.headerBgVariant)), _defineProperty(_ref2, \"text-\".concat(this.headerTextVariant), Boolean(this.headerTextVariant)), _defineProperty(_ref2, \"border-\".concat(this.headerBorderVariant), Boolean(this.headerBorderVariant)), _ref2), this.headerClass];\n    },\n    titleClasses: function titleClasses() {\n      return [{\n        'sr-only': this.titleSrOnly\n      }, this.titleClass];\n    },\n    bodyClasses: function bodyClasses() {\n      var _ref3;\n\n      return [(_ref3 = {}, _defineProperty(_ref3, \"bg-\".concat(this.bodyBgVariant), Boolean(this.bodyBgVariant)), _defineProperty(_ref3, \"text-\".concat(this.bodyTextVariant), Boolean(this.bodyTextVariant)), _ref3), this.bodyClass];\n    },\n    footerClasses: function footerClasses() {\n      var _ref4;\n\n      return [(_ref4 = {}, _defineProperty(_ref4, \"bg-\".concat(this.footerBgVariant), Boolean(this.footerBgVariant)), _defineProperty(_ref4, \"text-\".concat(this.footerTextVariant), Boolean(this.footerTextVariant)), _defineProperty(_ref4, \"border-\".concat(this.footerBorderVariant), Boolean(this.footerBorderVariant)), _ref4), this.footerClass];\n    },\n    modalOuterStyle: function modalOuterStyle() {\n      // Styles needed for proper stacking of modals\n      return {\n        position: 'absolute',\n        zIndex: this.zIndex\n      };\n    },\n    slotScope: function slotScope() {\n      return {\n        ok: this.onOk,\n        cancel: this.onCancel,\n        close: this.onClose,\n        hide: this.hide,\n        visible: this.isVisible\n      };\n    }\n  },\n  watch: {\n    visible: function visible(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this[newVal ? 'show' : 'hide']();\n      }\n    }\n  },\n  created: function created() {\n    // Define non-reactive properties\n    this._observer = null;\n  },\n  mounted: function mounted() {\n    // Set initial z-index as queried from the DOM\n    this.zIndex = modalManager.getBaseZIndex(); // Listen for events from others to either open or close ourselves\n    // and listen to all modals to enable/disable enforce focus\n\n    this.listenOnRoot('bv::show::modal', this.showHandler);\n    this.listenOnRoot('bv::hide::modal', this.hideHandler);\n    this.listenOnRoot('bv::toggle::modal', this.toggleHandler); // Listen for `bv:modal::show events`, and close ourselves if the\n    // opening modal not us\n\n    this.listenOnRoot('bv::modal::show', this.modalListener); // Initially show modal?\n\n    if (this.visible === true) {\n      this.$nextTick(this.show);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Ensure everything is back to normal\n    if (this._observer) {\n      this._observer.disconnect();\n\n      this._observer = null;\n    }\n\n    this.setEnforceFocus(false);\n    this.setResizeEvent(false);\n\n    if (this.isVisible) {\n      this.isVisible = false;\n      this.isShow = false;\n      this.isTransitioning = false;\n    }\n  },\n  methods: {\n    // Private method to update the v-model\n    updateModel: function updateModel(val) {\n      if (val !== this.visible) {\n        this.$emit('change', val);\n      }\n    },\n    // Private method to create a BvModalEvent object\n    buildEvent: function buildEvent(type) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvModalEvent(type, _objectSpread({\n        // Default options\n        cancelable: false,\n        target: this.$refs.modal || this.$el || null,\n        relatedTarget: null,\n        trigger: null\n      }, opts, {\n        // Options that can't be overridden\n        vueTarget: this,\n        componentId: this.safeId()\n      }));\n    },\n    // Public method to show modal\n    show: function show() {\n      if (this.isVisible || this.isOpening) {\n        // If already open, or in the process of opening, do nothing\n\n        /* istanbul ignore next */\n        return;\n      }\n\n      if (this.isClosing) {\n        // If we are in the process of closing, wait until hidden before re-opening\n\n        /* istanbul ignore next: very difficult to test */\n        this.$once('hidden', this.show);\n        /* istanbul ignore next */\n\n        return;\n      }\n\n      this.isOpening = true; // Set the element to return focus to when closed\n\n      this.return_focus = this.return_focus || this.getActiveElement();\n      var showEvt = this.buildEvent('show', {\n        cancelable: true\n      });\n      this.emitEvent(showEvt); // Don't show if canceled\n\n      if (showEvt.defaultPrevented || this.isVisible) {\n        this.isOpening = false; // Ensure the v-model reflects the current state\n\n        this.updateModel(false);\n        return;\n      } // Show the modal\n\n\n      this.doShow();\n    },\n    // Public method to hide modal\n    hide: function hide() {\n      var trigger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      if (!this.isVisible || this.isClosing) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      this.isClosing = true;\n      var hideEvt = this.buildEvent('hide', {\n        cancelable: trigger !== 'FORCE',\n        trigger: trigger || null\n      }); // We emit specific event for one of the three built-in buttons\n\n      if (trigger === 'ok') {\n        this.$emit('ok', hideEvt);\n      } else if (trigger === 'cancel') {\n        this.$emit('cancel', hideEvt);\n      } else if (trigger === 'headerclose') {\n        this.$emit('close', hideEvt);\n      }\n\n      this.emitEvent(hideEvt); // Hide if not canceled\n\n      if (hideEvt.defaultPrevented || !this.isVisible) {\n        this.isClosing = false; // Ensure v-model reflects current state\n\n        this.updateModel(true);\n        return;\n      } // Stop observing for content changes\n\n\n      if (this._observer) {\n        this._observer.disconnect();\n\n        this._observer = null;\n      } // Trigger the hide transition\n\n\n      this.isVisible = false; // Update the v-model\n\n      this.updateModel(false);\n    },\n    // Public method to toggle modal visibility\n    toggle: function toggle(triggerEl) {\n      if (triggerEl) {\n        this.return_focus = triggerEl;\n      }\n\n      if (this.isVisible) {\n        this.hide('toggle');\n      } else {\n        this.show();\n      }\n    },\n    // Private method to get the current document active element\n    getActiveElement: function getActiveElement() {\n      if (isBrowser) {\n        var activeElement = document.activeElement; // Note: On IE11, `document.activeElement` may be null.\n        // So we test it for truthiness first.\n        // https://github.com/bootstrap-vue/bootstrap-vue/issues/3206\n        // Returning focus to document.body may cause unwanted scrolls, so we\n        // exclude setting focus on body\n\n        if (activeElement && activeElement !== document.body && activeElement.focus) {\n          // Preset the fallback return focus value if it is not set\n          // `document.activeElement` should be the trigger element that was clicked or\n          // in the case of using the v-model, which ever element has current focus\n          // Will be overridden by some commands such as toggle, etc.\n          return activeElement;\n        }\n      }\n\n      return null;\n    },\n    // Private method to get a list of all tabable elements within modal content\n    getTabables: function getTabables() {\n      // Find all tabable elements in the modal content\n      // Assumes users have not used tabindex > 0 on elements!\n      return selectAll(TABABLE_SELECTOR, this.$refs.content).filter(isVisible).filter(function (i) {\n        return i.tabIndex > -1 && !i.disabled;\n      });\n    },\n    // Private method to finish showing modal\n    doShow: function doShow() {\n      var _this = this;\n\n      /* istanbul ignore next: commenting out for now until we can test stacking */\n      if (modalManager.modalsAreOpen && this.noStacking) {\n        // If another modal(s) is already open, wait for it(them) to close\n        this.listenOnRootOnce('bv::modal::hidden', this.doShow);\n        return;\n      }\n\n      modalManager.registerModal(this); // Place modal in DOM\n\n      this.isHidden = false;\n      this.$nextTick(function () {\n        // We do this in `$nextTick()` to ensure the modal is in DOM first\n        // before we show it\n        _this.isVisible = true;\n        _this.isOpening = false; // Update the v-model\n\n        _this.updateModel(true);\n\n        _this.$nextTick(function () {\n          // In a nextTick in case modal content is lazy\n          // Observe changes in modal content and adjust if necessary\n          _this._observer = observeDom(_this.$refs.content, _this.checkModalOverflow.bind(_this), OBSERVER_CONFIG);\n        });\n      });\n    },\n    // Transition handlers\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n      this.setResizeEvent(true);\n    },\n    onEnter: function onEnter() {\n      this.isBlock = true;\n    },\n    onAfterEnter: function onAfterEnter() {\n      var _this2 = this;\n\n      this.checkModalOverflow();\n      this.isShow = true;\n      this.isTransitioning = false;\n      this.$nextTick(function () {\n        _this2.emitEvent(_this2.buildEvent('shown'));\n\n        _this2.focusFirst();\n\n        _this2.setEnforceFocus(true);\n      });\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n      this.setResizeEvent(false);\n      this.setEnforceFocus(false);\n    },\n    onLeave: function onLeave() {\n      // Remove the 'show' class\n      this.isShow = false;\n    },\n    onAfterLeave: function onAfterLeave() {\n      var _this3 = this;\n\n      this.isBlock = false;\n      this.isTransitioning = false;\n      this.isModalOverflowing = false;\n      this.isHidden = true;\n      this.$nextTick(function () {\n        _this3.isClosing = false;\n        modalManager.unregisterModal(_this3);\n\n        _this3.returnFocusTo(); // TODO: Need to find a way to pass the `trigger` property\n        //       to the `hidden` event, not just only the `hide` event\n\n\n        _this3.emitEvent(_this3.buildEvent('hidden'));\n      });\n    },\n    // Event emitter\n    emitEvent: function emitEvent(bvModalEvt) {\n      var type = bvModalEvt.type; // We emit on root first incase a global listener wants to cancel\n      // the event first before the instance emits it's event\n\n      this.emitOnRoot(\"bv::modal::\".concat(type), bvModalEvt, bvModalEvt.componentId);\n      this.$emit(type, bvModalEvt);\n    },\n    // UI event handlers\n    onDialogMousedown: function onDialogMousedown() {\n      var _this4 = this;\n\n      // Watch to see if the matching mouseup event occurs outside the dialog\n      // And if it does, cancel the clickOut handler\n      var modal = this.$refs.modal;\n\n      var onceModalMouseup = function onceModalMouseup(evt) {\n        eventOff(modal, 'mouseup', onceModalMouseup, EVT_OPTIONS);\n\n        if (evt.target === modal) {\n          _this4.ignoreBackdropClick = true;\n        }\n      };\n\n      eventOn(modal, 'mouseup', onceModalMouseup, EVT_OPTIONS);\n    },\n    onClickOut: function onClickOut(evt) {\n      if (this.ignoreBackdropClick) {\n        // Click was initiated inside the modal content, but finished outside.\n        // Set by the above onDialogMousedown handler\n        this.ignoreBackdropClick = false;\n        return;\n      } // Do nothing if not visible, backdrop click disabled, or element\n      // that generated click event is no longer in document body\n\n\n      if (!this.isVisible || this.noCloseOnBackdrop || !contains(document.body, evt.target)) {\n        return;\n      } // If backdrop clicked, hide modal\n\n\n      if (!contains(this.$refs.content, evt.target)) {\n        this.hide('backdrop');\n      }\n    },\n    onOk: function onOk() {\n      this.hide('ok');\n    },\n    onCancel: function onCancel() {\n      this.hide('cancel');\n    },\n    onClose: function onClose() {\n      this.hide('headerclose');\n    },\n    onEsc: function onEsc(evt) {\n      // If ESC pressed, hide modal\n      if (evt.keyCode === KeyCodes.ESC && this.isVisible && !this.noCloseOnEsc) {\n        this.hide('esc');\n      }\n    },\n    // Document focusin listener\n    focusHandler: function focusHandler(evt) {\n      // If focus leaves modal content, bring it back\n      var content = this.$refs.content;\n      var target = evt.target;\n\n      if (!this.noEnforceFocus && this.isTop && this.isVisible && content && document !== target && !contains(content, target)) {\n        var tabables = this.getTabables();\n\n        if (this.$refs.bottomTrap && target === this.$refs.bottomTrap) {\n          // If user pressed TAB out of modal into our bottom trab trap element\n          // Find the first tabable element in the modal content and focus it\n          if (attemptFocus(tabables[0])) {\n            // Focus was successful\n            return;\n          }\n        } else if (this.$refs.topTrap && target === this.$refs.topTrap) {\n          // If user pressed CTRL-TAB out of modal and into our top tab trap element\n          // Find the last tabable element in the modal content and focus it\n          if (attemptFocus(tabables[tabables.length - 1])) {\n            // Focus was successful\n            return;\n          }\n        } // Otherwise focus the modal content container\n\n\n        content.focus({\n          preventScroll: true\n        });\n      }\n    },\n    // Turn on/off focusin listener\n    setEnforceFocus: function setEnforceFocus(on) {\n      var method = on ? eventOn : eventOff;\n      method(document, 'focusin', this.focusHandler, EVT_OPTIONS);\n    },\n    // Resize listener\n    setResizeEvent: function setResizeEvent(on) {\n      var method = on ? eventOn : eventOff; // These events should probably also check if\n      // body is overflowing\n\n      method(window, 'resize', this.checkModalOverflow, EVT_OPTIONS);\n      method(window, 'orientationchange', this.checkModalOverflow, EVT_OPTIONS);\n    },\n    // Root listener handlers\n    showHandler: function showHandler(id, triggerEl) {\n      if (id === this.safeId()) {\n        this.return_focus = triggerEl || this.getActiveElement();\n        this.show();\n      }\n    },\n    hideHandler: function hideHandler(id) {\n      if (id === this.safeId()) {\n        this.hide('event');\n      }\n    },\n    toggleHandler: function toggleHandler(id, triggerEl) {\n      if (id === this.safeId()) {\n        this.toggle(triggerEl);\n      }\n    },\n    modalListener: function modalListener(bvEvt) {\n      // If another modal opens, close this one if stacking not permitted\n      if (this.noStacking && bvEvt.vueTarget !== this) {\n        this.hide();\n      }\n    },\n    // Focus control handlers\n    focusFirst: function focusFirst() {\n      // Don't try and focus if we are SSR\n      if (isBrowser) {\n        var modal = this.$refs.modal;\n        var content = this.$refs.content;\n        var activeElement = this.getActiveElement(); // If the modal contains the activeElement, we don't do anything\n\n        if (modal && content && !(activeElement && contains(content, activeElement))) {\n          // Make sure top of modal is showing (if longer than the viewport)\n          // and focus the modal content wrapper\n          this.$nextTick(function () {\n            modal.scrollTop = 0;\n            content.focus();\n          });\n        }\n      }\n    },\n    returnFocusTo: function returnFocusTo() {\n      // Prefer `returnFocus` prop over event specified\n      // `return_focus` value\n      var el = this.returnFocus || this.return_focus || null;\n      this.return_focus = null;\n      this.$nextTick(function () {\n        // Is el a string CSS selector?\n        el = isString(el) ? select(el) : el;\n\n        if (el) {\n          // Possibly could be a component reference\n          el = el.$el || el;\n          attemptFocus(el);\n        }\n      });\n    },\n    checkModalOverflow: function checkModalOverflow() {\n      if (this.isVisible) {\n        var modal = this.$refs.modal;\n        this.isModalOverflowing = modal.scrollHeight > document.documentElement.clientHeight;\n      }\n    },\n    makeModal: function makeModal(h) {\n      // Modal header\n      var header = h();\n\n      if (!this.hideHeader) {\n        var modalHeader = this.normalizeSlot('modal-header', this.slotScope);\n\n        if (!modalHeader) {\n          var closeButton = h();\n\n          if (!this.hideHeaderClose) {\n            closeButton = h(BButtonClose, {\n              props: {\n                disabled: this.isTransitioning,\n                ariaLabel: this.headerCloseLabel,\n                textVariant: this.headerCloseVariant || this.headerTextVariant\n              },\n              on: {\n                click: this.onClose\n              }\n            }, [this.normalizeSlot('modal-header-close')]);\n          }\n\n          var domProps = !this.hasNormalizedSlot('modal-title') && this.titleHtml ? {\n            innerHTML: this.titleHtml\n          } : {};\n          modalHeader = [h(this.titleTag, {\n            staticClass: 'modal-title',\n            class: this.titleClasses,\n            attrs: {\n              id: this.safeId('__BV_modal_title_')\n            },\n            domProps: domProps\n          }, [this.normalizeSlot('modal-title', this.slotScope) || stripTags(this.title)]), closeButton];\n        }\n\n        header = h('header', {\n          ref: 'header',\n          staticClass: 'modal-header',\n          class: this.headerClasses,\n          attrs: {\n            id: this.safeId('__BV_modal_header_')\n          }\n        }, [modalHeader]);\n      } // Modal body\n\n\n      var body = h('div', {\n        ref: 'body',\n        staticClass: 'modal-body',\n        class: this.bodyClasses,\n        attrs: {\n          id: this.safeId('__BV_modal_body_')\n        }\n      }, this.normalizeSlot('default', this.slotScope)); // Modal footer\n\n      var footer = h();\n\n      if (!this.hideFooter) {\n        var modalFooter = this.normalizeSlot('modal-footer', this.slotScope);\n\n        if (!modalFooter) {\n          var cancelButton = h();\n\n          if (!this.okOnly) {\n            var cancelHtml = this.cancelTitleHtml ? {\n              innerHTML: this.cancelTitleHtml\n            } : null;\n            cancelButton = h(BButton, {\n              props: {\n                variant: this.cancelVariant,\n                size: this.buttonSize,\n                disabled: this.cancelDisabled || this.busy || this.isTransitioning\n              },\n              on: {\n                click: this.onCancel\n              }\n            }, [this.normalizeSlot('modal-cancel') || (cancelHtml ? h('span', {\n              domProps: cancelHtml\n            }) : stripTags(this.cancelTitle))]);\n          }\n\n          var okHtml = this.okTitleHtml ? {\n            innerHTML: this.okTitleHtml\n          } : null;\n          var okButton = h(BButton, {\n            props: {\n              variant: this.okVariant,\n              size: this.buttonSize,\n              disabled: this.okDisabled || this.busy || this.isTransitioning\n            },\n            on: {\n              click: this.onOk\n            }\n          }, [this.normalizeSlot('modal-ok') || (okHtml ? h('span', {\n            domProps: okHtml\n          }) : stripTags(this.okTitle))]);\n          modalFooter = [cancelButton, okButton];\n        }\n\n        footer = h('footer', {\n          ref: 'footer',\n          staticClass: 'modal-footer',\n          class: this.footerClasses,\n          attrs: {\n            id: this.safeId('__BV_modal_footer_')\n          }\n        }, [modalFooter]);\n      } // Assemble modal content\n\n\n      var modalContent = h('div', {\n        ref: 'content',\n        staticClass: 'modal-content',\n        class: this.contentClass,\n        attrs: {\n          role: 'document',\n          id: this.safeId('__BV_modal_content_'),\n          tabindex: '-1'\n        }\n      }, [header, body, footer]); // Tab trap to prevent page from scrolling to next element in\n      // tab index during enforce focus tab cycle\n\n      var tabTrapTop = h();\n      var tabTrapBottom = h();\n\n      if (this.isVisible && !this.noEnforceFocus) {\n        tabTrapTop = h('span', {\n          ref: 'topTrap',\n          attrs: {\n            tabindex: '0'\n          }\n        });\n        tabTrapBottom = h('span', {\n          ref: 'bottomTrap',\n          attrs: {\n            tabindex: '0'\n          }\n        });\n      } // Modal dialog wrapper\n\n\n      var modalDialog = h('div', {\n        ref: 'dialog',\n        staticClass: 'modal-dialog',\n        class: this.dialogClasses,\n        on: {\n          mousedown: this.onDialogMousedown\n        }\n      }, [tabTrapTop, modalContent, tabTrapBottom]); // Modal\n\n      var modal = h('div', {\n        ref: 'modal',\n        staticClass: 'modal',\n        class: this.modalClasses,\n        style: this.modalStyles,\n        directives: [{\n          name: 'show',\n          rawName: 'v-show',\n          value: this.isVisible,\n          expression: 'isVisible'\n        }],\n        attrs: {\n          id: this.safeId(),\n          role: 'dialog',\n          'aria-hidden': this.isVisible ? null : 'true',\n          'aria-modal': this.isVisible ? 'true' : null,\n          'aria-label': this.ariaLabel,\n          'aria-labelledby': this.hideHeader || this.ariaLabel || !(this.hasNormalizedSlot('modal-title') || this.titleHtml || this.title) ? null : this.safeId('__BV_modal_title_'),\n          'aria-describedby': this.safeId('__BV_modal_body_')\n        },\n        on: {\n          keydown: this.onEsc,\n          click: this.onClickOut\n        }\n      }, [modalDialog]); // Wrap modal in transition\n      // Sadly, we can't use BVTransition here due to the differences in\n      // transition durations for .modal and .modal-dialog. Not until\n      // issue https://github.com/vuejs/vue/issues/9986 is resolved\n\n      modal = h('transition', {\n        props: {\n          enterClass: '',\n          enterToClass: '',\n          enterActiveClass: '',\n          leaveClass: '',\n          leaveActiveClass: '',\n          leaveToClass: ''\n        },\n        on: {\n          beforeEnter: this.onBeforeEnter,\n          enter: this.onEnter,\n          afterEnter: this.onAfterEnter,\n          beforeLeave: this.onBeforeLeave,\n          leave: this.onLeave,\n          afterLeave: this.onAfterLeave\n        }\n      }, [modal]); // Modal backdrop\n\n      var backdrop = h();\n\n      if (!this.hideBackdrop && this.isVisible) {\n        backdrop = h('div', {\n          staticClass: 'modal-backdrop',\n          attrs: {\n            id: this.safeId('__BV_modal_backdrop_')\n          }\n        }, [this.normalizeSlot('modal-backdrop')]);\n      }\n\n      backdrop = h(BVTransition, {\n        props: {\n          noFade: this.noFade\n        }\n      }, [backdrop]); // Assemble modal and backdrop in an outer <div>\n\n      return h('div', {\n        key: \"modal-outer-\".concat(this._uid),\n        style: this.modalOuterStyle,\n        attrs: {\n          id: this.safeId('__BV_modal_outer_')\n        }\n      }, [modal, backdrop]);\n    }\n  },\n  render: function render(h) {\n    if (this.static) {\n      return this.lazy && this.isHidden ? h() : this.makeModal(h);\n    } else {\n      return this.isHidden ? h() : h(BTransporterSingle, {}, [this.makeModal(h)]);\n    }\n  }\n});\nexport default BModal;"]},"metadata":{},"sourceType":"module"}